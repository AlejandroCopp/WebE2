(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},vl={};var w_;function vS(){if(w_)return vl;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var R_;function ES(){return R_||(R_=1,Nd.exports=vS()),Nd.exports}var V=ES(),xd={exports:{}},Et={};var C_;function TS(){if(C_)return Et;C_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,tt={};function ot(O,Q,nt){this.props=O,this.context=Q,this.refs=tt,this.updater=nt||J}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function yt(){}yt.prototype=ot.prototype;function dt(O,Q,nt){this.props=O,this.context=Q,this.refs=tt,this.updater=nt||J}var mt=dt.prototype=new yt;mt.constructor=dt,W(mt,ot.prototype),mt.isPureReactComponent=!0;var zt=Array.isArray;function xt(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Q,nt){var st=nt.ref;return{$$typeof:s,type:O,key:Q,ref:st!==void 0?st:null,props:nt}}function M(O,Q){return I(O.type,Q,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function x(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Q[nt]})}var A=/\/+/g;function Rt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):Q.toString(36)}function ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(xt,xt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,nt,st,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case s:case t:Ut=!0;break;case S:return Ut=O._init,H(Ut(O._payload),Q,nt,st,_t)}}if(Ut)return _t=_t(O),Ut=st===""?"."+Rt(O,0):st,zt(_t)?(nt="",Ut!=null&&(nt=Ut.replace(A,"$&/")+"/"),H(_t,Q,nt,"",function(ir){return ir})):_t!=null&&(C(_t)&&(_t=M(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(A,"$&/")+"/")+Ut)),Q.push(_t)),1;Ut=0;var Ne=st===""?".":st+":";if(zt(O))for(var re=0;re<O.length;re++)st=O[re],bt=Ne+Rt(st,re),Ut+=H(st,Q,nt,bt,_t);else if(re=G(O),typeof re=="function")for(O=re.call(O),re=0;!(st=O.next()).done;)st=st.value,bt=Ne+Rt(st,re++),Ut+=H(st,Q,nt,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return H(ce(O),Q,nt,st,_t);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(O,Q,nt){if(O==null)return O;var st=[],_t=0;return H(O,st,"","",function(bt){return Q.call(nt,bt,_t++)}),st}function ct(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var jt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Kt={map:et,forEach:function(O,Q,nt){et(O,function(){Q.apply(this,arguments)},nt)},count:function(O){var Q=0;return et(O,function(){Q++}),Q},toArray:function(O){return et(O,function(Q){return Q})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=w,Et.Children=Kt,Et.Component=ot,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=y,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Q,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=W({},O.props),_t=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(_t=""+Q.key),Q)!b.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(st[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var Ut=Array(bt),Ne=0;Ne<bt;Ne++)Ut[Ne]=arguments[Ne+2];st.children=Ut}return I(O.type,_t,st)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,Q,nt){var st,_t={},bt=null;if(Q!=null)for(st in Q.key!==void 0&&(bt=""+Q.key),Q)b.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Q[st]);var Ut=arguments.length-2;if(Ut===1)_t.children=nt;else if(1<Ut){for(var Ne=Array(Ut),re=0;re<Ut;re++)Ne[re]=arguments[re+2];_t.children=Ne}if(O&&O.defaultProps)for(st in Ut=O.defaultProps,Ut)_t[st]===void 0&&(_t[st]=Ut[st]);return I(O,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=C,Et.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ct}},Et.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Et.startTransition=function(O){var Q=R.T,nt={};R.T=nt;try{var st=O(),_t=R.S;_t!==null&&_t(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(xt,jt)}catch(bt){jt(bt)}finally{Q!==null&&nt.types!==null&&(Q.types=nt.types),R.T=Q}},Et.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Et.use=function(O){return R.H.use(O)},Et.useActionState=function(O,Q,nt){return R.H.useActionState(O,Q,nt)},Et.useCallback=function(O,Q){return R.H.useCallback(O,Q)},Et.useContext=function(O){return R.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Q){return R.H.useDeferredValue(O,Q)},Et.useEffect=function(O,Q){return R.H.useEffect(O,Q)},Et.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Et.useId=function(){return R.H.useId()},Et.useImperativeHandle=function(O,Q,nt){return R.H.useImperativeHandle(O,Q,nt)},Et.useInsertionEffect=function(O,Q){return R.H.useInsertionEffect(O,Q)},Et.useLayoutEffect=function(O,Q){return R.H.useLayoutEffect(O,Q)},Et.useMemo=function(O,Q){return R.H.useMemo(O,Q)},Et.useOptimistic=function(O,Q){return R.H.useOptimistic(O,Q)},Et.useReducer=function(O,Q,nt){return R.H.useReducer(O,Q,nt)},Et.useRef=function(O){return R.H.useRef(O)},Et.useState=function(O){return R.H.useState(O)},Et.useSyncExternalStore=function(O,Q,nt){return R.H.useSyncExternalStore(O,Q,nt)},Et.useTransition=function(){return R.H.useTransition()},Et.version="19.2.4",Et}var I_;function _m(){return I_||(I_=1,xd.exports=TS()),xd.exports}var Ct=_m(),Dd={exports:{}},El={},Od={exports:{}},Md={};var N_;function SS(){return N_||(N_=1,(function(s){function t(H,et){var ct=H.length;H.push(et);t:for(;0<ct;){var jt=ct-1>>>1,Kt=H[jt];if(0<l(Kt,et))H[jt]=et,H[ct]=Kt,ct=jt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ct=H.pop();if(ct!==et){H[0]=ct;t:for(var jt=0,Kt=H.length,O=Kt>>>1;jt<O;){var Q=2*(jt+1)-1,nt=H[Q],st=Q+1,_t=H[st];if(0>l(nt,ct))st<Kt&&0>l(_t,nt)?(H[jt]=_t,H[st]=ct,jt=st):(H[jt]=nt,H[Q]=ct,jt=Q);else if(st<Kt&&0>l(_t,ct))H[jt]=_t,H[st]=ct,jt=st;else break t}}return et}function l(H,et){var ct=H.sortIndex-et.sortIndex;return ct!==0?ct:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,w=null,k=3,G=!1,J=!1,W=!1,tt=!1,ot=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function mt(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function zt(H){if(W=!1,mt(H),!J)if(i(y)!==null)J=!0,xt||(xt=!0,x());else{var et=i(_);et!==null&&ce(zt,et.startTime-H)}}var xt=!1,R=-1,b=5,I=-1;function M(){return tt?!0:!(s.unstable_now()-I<b)}function C(){if(tt=!1,xt){var H=s.unstable_now();I=H;var et=!0;try{t:{J=!1,W&&(W=!1,yt(R),R=-1),G=!0;var ct=k;try{e:{for(mt(H),w=i(y);w!==null&&!(w.expirationTime>H&&M());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,k=w.priorityLevel;var Kt=jt(w.expirationTime<=H);if(H=s.unstable_now(),typeof Kt=="function"){w.callback=Kt,mt(H),et=!0;break e}w===i(y)&&a(y),mt(H)}else a(y);w=i(y)}if(w!==null)et=!0;else{var O=i(_);O!==null&&ce(zt,O.startTime-H),et=!1}}break t}finally{w=null,k=ct,G=!1}et=void 0}}finally{et?x():xt=!1}}}var x;if(typeof dt=="function")x=function(){dt(C)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Rt=A.port2;A.port1.onmessage=C,x=function(){Rt.postMessage(null)}}else x=function(){ot(C,0)};function ce(H,et){R=ot(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(H){switch(k){case 1:case 2:case 3:var et=3;break;default:et=k}var ct=k;k=et;try{return H()}finally{k=ct}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=k;k=H;try{return et()}finally{k=ct}},s.unstable_scheduleCallback=function(H,et,ct){var jt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?jt+ct:jt):ct=jt,H){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=ct+Kt,H={id:S++,callback:et,priorityLevel:H,startTime:ct,expirationTime:Kt,sortIndex:-1},ct>jt?(H.sortIndex=ct,t(_,H),i(y)===null&&H===i(_)&&(W?(yt(R),R=-1):W=!0,ce(zt,ct-jt))):(H.sortIndex=Kt,t(y,H),J||G||(J=!0,xt||(xt=!0,x()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var et=k;return function(){var ct=k;k=et;try{return H.apply(this,arguments)}finally{k=ct}}}})(Md)),Md}var x_;function AS(){return x_||(x_=1,Od.exports=SS()),Od.exports}var Vd={exports:{}},Xe={};var D_;function bS(){if(D_)return Xe;D_=1;var s=_m();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Xe.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:k,fetchPriority:G}):S==="script"&&a.d.X(y,{crossOrigin:w,integrity:k,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Xe.requestFormReset=function(y){a.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var O_;function wS(){if(O_)return Vd.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=bS(),Vd.exports}var M_;function RS(){if(M_)return El;M_=1;var s=AS(),t=_m(),i=wS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,k=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var A=Symbol.for("react.client.reference");function Rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===A?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ot:return"Profiler";case tt:return"StrictMode";case zt:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:Rt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Rt(e(n))}catch{}}return null}var ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},jt=[],Kt=-1;function O(e){return{current:e}}function Q(e){0>Kt||(e.current=jt[Kt],jt[Kt]=null,Kt--)}function nt(e,n){Kt++,jt[Kt]=e.current,e.current=n}var st=O(null),_t=O(null),bt=O(null),Ut=O(null);function Ne(e,n){switch(nt(bt,n),nt(_t,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Xy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),nt(st,e)}function re(){Q(st),Q(_t),Q(bt)}function ir(e){e.memoizedState!==null&&nt(Ut,e);var n=st.current,r=Xy(n,e.type);n!==r&&(nt(_t,e),nt(st,r))}function Qr(e){_t.current===e&&(Q(st),Q(_t)),Ut.current===e&&(Q(Ut),gl._currentValue=ct)}var Xr,$r;function ti(e){if(Xr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xr=n&&n[1]||"",$r=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+e+$r}var go=!1;function sr(e,n){if(!e||go)return"";go=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var F=`
`+N[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ti(r):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return ti("Activity");default:return""}}function yo(e){try{var n="",r=null;do n+=po(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,xh=s.unstable_shouldYield,tu=s.unstable_requestPaint,tn=s.unstable_now,rr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,Pn=null,je=null;function An(e){if(typeof nu=="function"&&iu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Pn,e)}catch{}}var de=Math.clz32?Math.clz32:ru,su=Math.log,Jr=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/Jr|0)|0}var ei=256,ar=262144,ve=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):r||(r=E&~e,r!==0&&(h=ni(r))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):r||(r=o&~e,r!==0&&(h=ni(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function si(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-de(r),Y=1<<F;E[F]=0,N[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&lr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function lr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Eo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-de(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function To(e,n){var r=n&-n;return r=(r&42)!==0?1:ur(r),(r&(e.suspendedLanes|n))!==0?0:r}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function jn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Bn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,ri="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,Vh="__reactListeners$"+Bn,lu="__reactHandles$"+Bn,uu="__reactResources$"+Bn,ai="__reactMarker$"+Bn;function Wr(e){delete e[Ee],delete e[Ve],delete e[Zr],delete e[Vh],delete e[lu]}function oi(e){var n=e[Ee];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=n_(e);e!==null;){if(r=e[Ee])return r;e=n_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[Ee]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[ai]=!0}var So=new Set,Ao={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(Ao[e]=n,e=0;e<n.length;e++)So.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function cu(e){return _e.call(Ro,e)?!0:_e.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ta(e,n,r){if(cu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function mn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Se(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ls(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function sn(e){return e.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,ke(n)):r!=null?Io(e,g,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function hu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Io(e,n,r){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function us(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function cs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Yt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Do=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,fi=null;function fr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&cr(o)}break t;case"textarea":fu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&us(e,!!r.multiple,n,!1)}}}var sa=!1;function ds(e,n,r){if(sa)return e(n,r);sa=!0;try{var o=e(n);return o}finally{if(sa=!1,(fs!==null||fi!==null)&&(oc(),fs&&(n=fs,e=fi,fi=fs=null,fr(n),e)))for(n=0;n<e.length;n++)fr(e[n])}}function Hn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Rn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{dr=!1}var di=null,Oo=null,mr=null;function Mo(){if(mr)return mr;var e,n=Oo,r=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Fn(){return!1}function Be(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Fn,this.isPropagationStopped=Fn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Mi),ms=w({},Mi,{view:0,detail:0}),Vo=Be(ms),gs,ra,gi,aa=w({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(gs=e.screenX-gi.screenX,ra=e.screenY-gi.screenY):ra=gs=0,gi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),ko=Be(aa),pr=w({},aa,{dataTransfer:0}),gu=Be(pr),pu=w({},ms,{relatedTarget:0}),yr=Be(pu),Lo=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Be(Lo),oa=w({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Be(oa),vu=w({},Mi,{data:0}),pi=Be(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function ps(){return Au}var en=w({},ms,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Be(en),wu=w({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Be(wu),u=w({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),m=Be(u),v=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),U=w({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Be(U),Z=w({},Mi,{newState:0,oldState:0}),St=Be(Z),me=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ae,yi=Rn&&(!Ht||ae&&8<ae&&11>=ae),Gn=" ",Kn=!1;function _r(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function HT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Kn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Kn?null:e;default:return null}}function FT(e,n){if(ua)return e==="compositionend"||!Ht&&_r(e,n)?(e=Mo(),mr=Oo=di=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GT[e.type]:n==="textarea"}function ag(e,n,r,o){fs?fi?fi.push(o):fi=[o]:fs=o,n=mc(n,"onChange"),0<n.length&&(r=new mi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Uo=null,Po=null;function KT(e){qy(e,0)}function Ru(e){var n=dn(e);if(cr(n))return e}function og(e,n){if(e==="change")return n}var lg=!1;if(Rn){var kh;if(Rn){var Lh="oninput"in document;if(!Lh){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),Lh=typeof ug.oninput=="function"}kh=Lh}else kh=!1;lg=kh&&(!document.documentMode||9<document.documentMode)}function cg(){Uo&&(Uo.detachEvent("onpropertychange",hg),Po=Uo=null)}function hg(e){if(e.propertyName==="value"&&Ru(Po)){var n=[];ag(n,Po,e,wn(e)),ds(KT,n)}}function YT(e,n,r){e==="focusin"?(cg(),Uo=n,Po=r,Uo.attachEvent("onpropertychange",hg)):e==="focusout"&&cg()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Po)}function XT(e,n){if(e==="click")return Ru(n)}function $T(e,n){if(e==="input"||e==="change")return Ru(n)}function JT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:JT;function zo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,n){var r=fg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fg(r)}}function mg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=hi(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ZT=Rn&&"documentMode"in document&&11>=document.documentMode,ca=null,Ph=null,jo=null,zh=!1;function pg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||ca==null||ca!==hi(o)||(o=ca,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=mc(Ph,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ca)))}function vr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},jh={},yg={};Rn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Er(e){if(jh[e])return jh[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in yg)return jh[e]=n[r];return e}var _g=Er("animationend"),vg=Er("animationiteration"),Eg=Er("animationstart"),WT=Er("transitionrun"),t1=Er("transitionstart"),e1=Er("transitioncancel"),Tg=Er("transitionend"),Sg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Yn(e,n){Sg.set(e,n),ui(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],fa=0,qh=0;function Iu(){for(var e=fa,n=qh=fa=0;n<e;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ag(r,h,f)}}function Nu(e,n,r,o){In[fa++]=e,In[fa++]=n,In[fa++]=r,In[fa++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,r,o){return Nu(e,n,r,o),xu(e)}function Tr(e,n){return Nu(e,null,null,n),xu(e)}function Ag(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function xu(e){if(50<ll)throw ll=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function n1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new n1(e,n,r,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=oS(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,r,n,h),e.elementType=I,e.lanes=f,e;case W:return Sr(r.children,h,f,n);case tt:g=8,h|=24;break;case ot:return e=pn(12,r,n,h|2),e.elementType=ot,e.lanes=f,e;case zt:return e=pn(13,r,n,h),e.elementType=zt,e.lanes=f,e;case xt:return e=pn(19,r,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case yt:g=9;break t;case mt:g=11;break t;case R:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function Gh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function wg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Rg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var r=Rg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:yo(n)},Rg.set(e,n),n)}return{value:e,source:n,stack:yo(n)}}var ma=[],ga=0,Ou=null,Bo=0,xn=[],Dn=0,ys=null,_i=1,vi="";function Li(e,n){ma[ga++]=Bo,ma[ga++]=Ou,Ou=e,Bo=n}function Cg(e,n,r){xn[Dn++]=_i,xn[Dn++]=vi,xn[Dn++]=ys,ys=e;var o=_i;e=vi;var h=32-de(o)-1;o&=~(1<<h),r+=1;var f=32-de(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-de(n)+h|r<<h|o,vi=f+e}else _i=1<<f|r<<h|o,vi=e}function Yh(e){e.return!==null&&(Li(e,1),Cg(e,1,0))}function Qh(e){for(;e===Ou;)Ou=ma[--ga],ma[ga]=null,Bo=ma[--ga],ma[ga]=null;for(;e===ys;)ys=xn[--Dn],xn[Dn]=null,vi=xn[--Dn],xn[Dn]=null,_i=xn[--Dn],xn[Dn]=null}function Ig(e,n){xn[Dn++]=_i,xn[Dn++]=vi,xn[Dn++]=ys,_i=n.id,vi=n.overflow,ys=e}var qe=null,ne=null,Lt=!1,_s=null,On=!1,Xh=Error(a(519));function vs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Nn(n,e)),Xh}function Ng(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[Ve]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<cl.length;r++)Nt(cl[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),cs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Ky(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||vs(e,!0)}function xg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:qe=qe.return}}function pa(e){if(e!==qe)return!1;if(!Lt)return xg(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||md(e.type,e.memoizedProps)),r=!r),r&&ne&&vs(e),xg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=e_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=e_(e)}else n===27?(n=ne,Ms(e.type)?(e=vd,vd=null,ne=e):ne=n):ne=qe?Vn(e.stateNode.nextSibling):null;return!0}function Ar(){ne=qe=null,Lt=!1}function $h(){var e=_s;return e!==null&&(un===null?un=e:un.push.apply(un,e),_s=null),e}function qo(e){_s===null?_s=[e]:_s.push(e)}var Jh=O(null),br=null,Ui=null;function Es(e,n,r){nt(Jh,n._currentValue),n._currentValue=r}function Pi(e){e._currentValue=Jh.current,Q(Jh)}function Zh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Wh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Zh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Zh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&Wh(n,e,r,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){br=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Dg(br,e)}function Vu(e,n){return br===null&&wr(e),Dg(e,n)}function Dg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var i1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},s1=s.unstable_scheduleCallback,r1=s.unstable_NormalPriority,Ae={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new i1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&s1(r1,function(){e.controller.abort()})}var Fo=null,ef=0,_a=0,va=null;function a1(e,n){if(Fo===null){var r=Fo=[];ef=0,_a=rd(),va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ef++,n.then(Og,Og),n}function Og(){if(--ef===0&&Fo!==null){va!==null&&(va.status="fulfilled");var e=Fo;Fo=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function o1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Mg=H.S;H.S=function(e,n){py=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&a1(e,n),Mg!==null&&Mg(e,n)};var Rr=O(null);function nf(){var e=Rr.current;return e!==null?e:ee.pooledCache}function ku(e,n){n===null?nt(Rr,Rr.current):nt(Rr,n.pool)}function Vg(){var e=nf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ea=Error(a(460)),sf=Error(a(474)),Lu=Error(a(542)),Uu={then:function(){}};function kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pg(e),e}throw Ir=n,Ea}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ir=r,Ea):r}}var Ir=null;function Ug(){if(Ir===null)throw Error(a(459));var e=Ir;return Ir=null,e}function Pg(e){if(e===Ea||e===Lu)throw Error(a(483))}var Ta=null,Go=0;function Pu(e){var n=Go;return Go+=1,Ta===null&&(Ta=[]),Lg(Ta,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zg(e){function n(L,D){if(e){var P=L.deletions;P===null?(L.deletions=[D],L.flags|=16):P.push(D)}}function r(L,D){if(!e)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function o(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=ki(L,D),L.index=0,L.sibling=null,L}function f(L,D,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<D?(L.flags|=67108866,D):P):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,P,K){return D===null||D.tag!==6?(D=Gh(P,L.mode,K),D.return=L,D):(D=h(D,P),D.return=L,D)}function N(L,D,P,K){var ut=P.type;return ut===W?F(L,D,P.props.children,K,P.key):D!==null&&(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Cr(ut)===D.type)?(D=h(D,P.props),Ko(D,P),D.return=L,D):(D=Du(P.type,P.key,P.props,null,L.mode,K),Ko(D,P),D.return=L,D)}function z(L,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Kh(P,L.mode,K),D.return=L,D):(D=h(D,P.children||[]),D.return=L,D)}function F(L,D,P,K,ut){return D===null||D.tag!==7?(D=Sr(P,L.mode,K,ut),D.return=L,D):(D=h(D,P),D.return=L,D)}function Y(L,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gh(""+D,L.mode,P),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Du(D.type,D.key,D.props,null,L.mode,P),Ko(P,D),P.return=L,P;case J:return D=Kh(D,L.mode,P),D.return=L,D;case b:return D=Cr(D),Y(L,D,P)}if(ce(D)||x(D))return D=Sr(D,L.mode,P,null),D.return=L,D;if(typeof D.then=="function")return Y(L,Pu(D),P);if(D.$$typeof===dt)return Y(L,Vu(L,D),P);zu(L,D)}return null}function j(L,D,P,K){var ut=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(L,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ut?N(L,D,P,K):null;case J:return P.key===ut?z(L,D,P,K):null;case b:return P=Cr(P),j(L,D,P,K)}if(ce(P)||x(P))return ut!==null?null:F(L,D,P,K,null);if(typeof P.then=="function")return j(L,D,Pu(P),K);if(P.$$typeof===dt)return j(L,D,Vu(L,P),K);zu(L,P)}return null}function q(L,D,P,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(P)||null,E(D,L,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return L=L.get(K.key===null?P:K.key)||null,N(D,L,K,ut);case J:return L=L.get(K.key===null?P:K.key)||null,z(D,L,K,ut);case b:return K=Cr(K),q(L,D,P,K,ut)}if(ce(K)||x(K))return L=L.get(P)||null,F(D,L,K,ut,null);if(typeof K.then=="function")return q(L,D,P,Pu(K),ut);if(K.$$typeof===dt)return q(L,D,P,Vu(D,K),ut);zu(D,K)}return null}function rt(L,D,P,K){for(var ut=null,Bt=null,at=D,wt=D=0,Ot=null;at!==null&&wt<P.length;wt++){at.index>wt?(Ot=at,at=null):Ot=at.sibling;var qt=j(L,at,P[wt],K);if(qt===null){at===null&&(at=Ot);break}e&&at&&qt.alternate===null&&n(L,at),D=f(qt,D,wt),Bt===null?ut=qt:Bt.sibling=qt,Bt=qt,at=Ot}if(wt===P.length)return r(L,at),Lt&&Li(L,wt),ut;if(at===null){for(;wt<P.length;wt++)at=Y(L,P[wt],K),at!==null&&(D=f(at,D,wt),Bt===null?ut=at:Bt.sibling=at,Bt=at);return Lt&&Li(L,wt),ut}for(at=o(at);wt<P.length;wt++)Ot=q(at,L,wt,P[wt],K),Ot!==null&&(e&&Ot.alternate!==null&&at.delete(Ot.key===null?wt:Ot.key),D=f(Ot,D,wt),Bt===null?ut=Ot:Bt.sibling=Ot,Bt=Ot);return e&&at.forEach(function(Ps){return n(L,Ps)}),Lt&&Li(L,wt),ut}function ft(L,D,P,K){if(P==null)throw Error(a(151));for(var ut=null,Bt=null,at=D,wt=D=0,Ot=null,qt=P.next();at!==null&&!qt.done;wt++,qt=P.next()){at.index>wt?(Ot=at,at=null):Ot=at.sibling;var Ps=j(L,at,qt.value,K);if(Ps===null){at===null&&(at=Ot);break}e&&at&&Ps.alternate===null&&n(L,at),D=f(Ps,D,wt),Bt===null?ut=Ps:Bt.sibling=Ps,Bt=Ps,at=Ot}if(qt.done)return r(L,at),Lt&&Li(L,wt),ut;if(at===null){for(;!qt.done;wt++,qt=P.next())qt=Y(L,qt.value,K),qt!==null&&(D=f(qt,D,wt),Bt===null?ut=qt:Bt.sibling=qt,Bt=qt);return Lt&&Li(L,wt),ut}for(at=o(at);!qt.done;wt++,qt=P.next())qt=q(at,L,wt,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&at.delete(qt.key===null?wt:qt.key),D=f(qt,D,wt),Bt===null?ut=qt:Bt.sibling=qt,Bt=qt);return e&&at.forEach(function(_S){return n(L,_S)}),Lt&&Li(L,wt),ut}function te(L,D,P,K){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ut=P.key;D!==null;){if(D.key===ut){if(ut=P.type,ut===W){if(D.tag===7){r(L,D.sibling),K=h(D,P.props.children),K.return=L,L=K;break t}}else if(D.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Cr(ut)===D.type){r(L,D.sibling),K=h(D,P.props),Ko(K,P),K.return=L,L=K;break t}r(L,D);break}else n(L,D);D=D.sibling}P.type===W?(K=Sr(P.props.children,L.mode,K,P.key),K.return=L,L=K):(K=Du(P.type,P.key,P.props,null,L.mode,K),Ko(K,P),K.return=L,L=K)}return g(L);case J:t:{for(ut=P.key;D!==null;){if(D.key===ut)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(L,D.sibling),K=h(D,P.children||[]),K.return=L,L=K;break t}else{r(L,D);break}else n(L,D);D=D.sibling}K=Kh(P,L.mode,K),K.return=L,L=K}return g(L);case b:return P=Cr(P),te(L,D,P,K)}if(ce(P))return rt(L,D,P,K);if(x(P)){if(ut=x(P),typeof ut!="function")throw Error(a(150));return P=ut.call(P),ft(L,D,P,K)}if(typeof P.then=="function")return te(L,D,Pu(P),K);if(P.$$typeof===dt)return te(L,D,Vu(L,P),K);zu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(L,D.sibling),K=h(D,P),K.return=L,L=K):(r(L,D),K=Gh(P,L.mode,K),K.return=L,L=K),g(L)):r(L,D)}return function(L,D,P,K){try{Go=0;var ut=te(L,D,P,K);return Ta=null,ut}catch(at){if(at===Ea||at===Lu)throw at;var Bt=pn(29,at,null,L.mode);return Bt.lanes=K,Bt.return=L,Bt}}}var Nr=zg(!0),jg=zg(!1),Ts=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Ag(e,null,r),n}return Nu(e,o,n,r),xu(e)}function Yo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}function of(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var lf=!1;function Qo(){if(lf){var e=va;if(e!==null)throw e}}function Xo(e,n,r,o){lf=!1;var h=e.updateQueue;Ts=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;g=0,F=z=N=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Dt&j)===j:(o&j)===j){j!==0&&j===_a&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;j=n;var te=r;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){Y=rt.call(te,Y,j);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,j=typeof rt=="function"?rt.call(te,Y,j):rt,j==null)break t;Y=w({},Y,j);break t;case 2:Ts=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,N=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Is|=g,e.lanes=g,e.memoizedState=Y}}function Bg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Bg(r[e],n)}var Sa=O(null),ju=O(0);function Hg(e,n){e=Yi,nt(ju,e),nt(Sa,n),Yi=e|n.baseLanes}function uf(){nt(ju,Yi),nt(Sa,Sa.current)}function cf(){Yi=ju.current,Q(Sa),Q(ju)}var yn=O(null),Mn=null;function bs(e){var n=e.alternate;nt(ge,ge.current&1),nt(yn,e),Mn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Mn=e)}function hf(e){nt(ge,ge.current),nt(yn,e),Mn===null&&(Mn=e)}function Fg(e){e.tag===22?(nt(ge,ge.current),nt(yn,e),Mn===null&&(Mn=e)):ws()}function ws(){nt(ge,ge.current),nt(yn,yn.current)}function _n(e){Q(yn),Mn===e&&(Mn=null),Q(ge)}var ge=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yd(r)||_d(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,At=null,Zt=null,be=null,qu=!1,Aa=!1,xr=!1,Hu=0,$o=0,ba=null,l1=0;function he(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!gn(e[r],n[r]))return!1;return!0}function df(e,n,r,o,h,f){return zi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Cp:If,xr=!1,f=r(o,h),xr=!1,Aa&&(f=Kg(n,r,o,h)),Gg(e),f}function Gg(e){H.H=Wo;var n=Zt!==null&&Zt.next!==null;if(zi=0,be=Zt=At=null,qu=!1,$o=0,ba=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&Mu(e)&&(we=!0))}function Kg(e,n,r,o){At=e;var h=0;do{if(Aa&&(ba=null),$o=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,be=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Ip,f=n(r,o)}while(Aa);return f}function u1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(At.flags|=1024),n}function mf(){var e=Hu!==0;return Hu=0,e}function gf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function pf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}zi=0,be=Zt=At=null,Aa=!1,$o=Hu=0,ba=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?At.memoizedState=be=e:be=be.next=e,be}function pe(){if(Zt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=be===null?At.memoizedState:be.next;if(n!==null)be=n,Zt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},be===null?At.memoizedState=be=e:be=be.next=e}return be}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=$o;return $o+=1,ba===null&&(ba=[]),e=Lg(ba,e,n),n=At,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Cp:If),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===dt)return He(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function ji(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=pe();return _f(n,Zt,e)}function _f(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,N=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Dt&Y)===Y:(zi&Y)===Y){var j=z.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===_a&&(F=!0);else if((zi&j)===j){z=z.next,j===_a&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=Y,g=f):N=N.next=Y,At.lanes|=j,Is|=j;Y=z.action,xr&&r(f,Y),f=z.hasEagerState?z.eagerState:r(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=j,g=f):N=N.next=j,At.lanes|=Y,Is|=Y;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!gn(f,e.memoizedState)&&(we=!0,F&&(r=va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=pe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Yg(e,n,r){var o=At,h=pe(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!gn((Zt||h).memoizedState,r);if(g&&(h.memoizedState=r,we=!0),h=h.queue,Sf($g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||be!==null&&be.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},Xg.bind(null,o,h,r,n),null),ee===null)throw Error(a(349));f||(zi&127)!==0||Qg(o,n,r)}return r}function Qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Fu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Xg(e,n,r,o){n.value=r,n.getSnapshot=o,Jg(n)&&Zg(e)}function $g(e,n,r){return r(function(){Jg(n)&&Zg(e)})}function Jg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!gn(e,r)}catch{return!0}}function Zg(e){var n=Tr(e,2);n!==null&&cn(n,e,2)}function Ef(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),xr){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function Wg(e,n,r,o){return e.baseState=r,_f(e,Zt,typeof o=="function"?o:ji)}function c1(e,n,r,o,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,tp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function tp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),N=H.S;N!==null&&N(g,E),ep(e,n,E)}catch(z){Tf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),ep(e,n,f)}catch(z){Tf(e,n,z)}}function ep(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){np(e,n,o)},function(o){return Tf(e,n,o)}):np(e,n,r)}function np(e,n,r){n.status="fulfilled",n.value=r,ip(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,tp(e,r)))}function Tf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ip(n),n=n.next;while(n!==o)}e.action=null}function ip(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sp(e,n){return n}function rp(e,n){if(Lt){var r=ee.formState;if(r!==null){t:{var o=At;if(Lt){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Vn(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:n},r.queue=o,r=bp.bind(null,At,o),o.dispatch=r,o=Ef(!1),f=Cf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=c1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function ap(e){var n=pe();return op(n,Zt,e)}function op(e,n,r){if(n=_f(e,n,sp)[0],e=Ku(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Ea?Lu:g}else o=n;n=pe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},h1.bind(null,h,r),null)),[o,f,e]}function h1(e,n){e.action=n}function lp(e){var n=pe(),r=Zt;if(r!==null)return op(n,r,e);pe(),n=n.memoizedState,r=pe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function wa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Fu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function up(){return pe().memoizedState}function Yu(e,n,r,o){var h=nn();At.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Qu(e,n,r,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&ff(o,Zt.memoizedState.deps)?h.memoizedState=wa(n,f,r,o):(At.flags|=e,h.memoizedState=wa(1|n,f,r,o))}function cp(e,n){Yu(8390656,8,e,n)}function Sf(e,n){Qu(2048,8,e,n)}function f1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Fu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function hp(e){var n=pe().memoizedState;return f1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function fp(e,n){return Qu(4,2,e,n)}function dp(e,n){return Qu(4,4,e,n)}function mp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gp(e,n,r){r=r!=null?r.concat([e]):null,Qu(4,4,mp.bind(null,n,e),r)}function Af(){}function pp(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function yp(e,n){var r=pe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),xr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function bf(e,n,r){return r===void 0||(zi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=_y(),At.lanes|=e,Is|=e,r)}function _p(e,n,r,o){return gn(r,n)?r:Sa.current!==null?(e=bf(e,r,o),gn(e,n)||(we=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Dt&261930)===0?(we=!0,e.memoizedState=r):(e=_y(),At.lanes|=e,Is|=e,n)}function vp(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Cf(e,!1,n,r);try{var N=h(),z=H.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=o1(N,o);Zo(e,n,F,Tn(e))}else Zo(e,n,o,Tn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function d1(){}function wf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Ep(e).queue;vp(e,h,n,ct,r===null?d1:function(){return Tp(e),r(o)})}function Ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tp(e){var n=Ep(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Tn())}function Rf(){return He(gl)}function Sp(){return pe().memoizedState}function Ap(){return pe().memoizedState}function m1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();e=Ss(r);var o=As(n,e,r);o!==null&&(cn(o,n,r),Yo(o,n,r)),n={cache:tf()},e.payload=n;return}n=n.return}}function g1(e,n,r){var o=Tn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(e)?wp(n,r):(r=Hh(e,n,r,o),r!==null&&(cn(r,e,o),Rp(r,n,o)))}function bp(e,n,r){var o=Tn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))wp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return Nu(e,n,h,0),ee===null&&Iu(),!1}catch{}if(r=Hh(e,n,h,o),r!==null)return cn(r,e,o),Rp(r,n,o),!0}return!1}function Cf(e,n,r,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Hh(e,r,o,2),n!==null&&cn(n,e,2)}function Xu(e){var n=e.alternate;return e===At||n!==null&&n===At}function wp(e,n){Aa=qu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Rp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Eo(e,r)}}var Wo={readContext:He,use:Gu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Wo.useEffectEvent=he;var Cp={readContext:He,use:Gu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:cp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Yu(4194308,4,mp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var o=e();if(xr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=nn();if(r!==void 0){var h=r(n);if(xr){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=g1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,r=bp.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(e,n){var r=nn();return bf(r,e,n)},useTransition:function(){var e=Ef(!1);return e=vp.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=nn();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ee===null)throw Error(a(349));(Dt&127)!==0||Qg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,cp($g.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},Xg.bind(null,o,f,r,n),null),r},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Lt){var r=vi,o=_i;r=(o&~(1<<32-de(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=l1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:rp,useActionState:rp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return nn().memoizedState=m1.bind(null,At)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((Ft&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},If={readContext:He,use:Gu,useCallback:pp,useContext:He,useEffect:Sf,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:Ku,useRef:up,useState:function(){return Ku(ji)},useDebugValue:Af,useDeferredValue:function(e,n){var r=pe();return _p(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Ku(ji)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:Rf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var r=pe();return Wg(r,Zt,e,n)},useMemoCache:yf,useCacheRefresh:Ap};If.useEffectEvent=hp;var Ip={readContext:He,use:Gu,useCallback:pp,useContext:He,useEffect:Sf,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:vf,useRef:up,useState:function(){return vf(ji)},useDebugValue:Af,useDeferredValue:function(e,n){var r=pe();return Zt===null?bf(r,e,n):_p(r,Zt.memoizedState,e,n)},useTransition:function(){var e=vf(ji)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:Rf,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var r=pe();return Zt!==null?Wg(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Ap};Ip.useEffectEvent=hp;function Nf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=Ss(o);h.payload=n,r!=null&&(h.callback=r),n=As(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=Ss(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=As(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Tn(),o=Ss(r);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,r),n!==null&&(cn(n,e,r),Yo(n,e,r))}};function Np(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(r,o)||!zo(h,f):!0}function xp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Dr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Dp(e){Cu(e)}function Op(e){console.error(e)}function Mp(e){Cu(e)}function $u(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=Ss(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(e,n)},r}function kp(e){return e=Ss(e),e.tag=3,e}function Lp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Vp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Vp(n,r,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function p1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ya(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?lc():r.alternate===null&&fe===0&&(fe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),nd(e,o,h)),!1}throw Error(a(435,r.tag))}return nd(e,o,h),lc(),!1}if(Lt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),qo(Nn(e,r)))):(o!==Xh&&(n=Error(a(423),{cause:o}),qo(Nn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,r),h=Df(e.stateNode,o,h),of(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,r),ol===null?ol=[f]:ol.push(f),fe!==4&&(fe=2),n===null)return!0;o=Nn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),of(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=kp(h),Lp(h,e,r,o),of(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),we=!1;function Fe(e,n,r,o){n.child=e===null?jg(n,null,r,o):Nr(n,e.child,r,o)}function Up(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return wr(n),o=df(e,n,r,g,f,h),E=mf(),e!==null&&!we?(gf(e,n,h),Bi(e,n,h)):(Lt&&E&&Yh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function Pp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,zp(e,n,f,o,h)):(e=Du(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function zp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Mf(e,n,r,o,h)}function jp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Bp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?Hg(n,f):uf(),Fg(n);else return o=n.lanes=536870912,Bp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ku(n,f.cachePool),Hg(n,f),ws(),n.memoizedState=null):(e!==null&&ku(n,null),uf(),ws());return Fe(e,n,h,r),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,r,o,h){var f=nf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&ku(n,null),uf(),Fg(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qp(e,n,r){return Nr(n,e.child,null,r),e=Ju(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function y1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,tl(null,e);if(hf(n),(e=ne)?(e=t_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=wg(e),r.return=n,n.child=r,qe=n,ne=null)):e=null,e===null)throw vs(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=qp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(we||ya(e,n,r,!1),h=(r&e.childLanes)!==0,we||h){if(o=ee,o!==null&&(g=To(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Tr(e,g),cn(o,e,g),Of;lc(),n=qp(e,n,r)}else e=f.treeContext,ne=Vn(g.nextSibling),qe=n,Lt=!0,_s=null,On=!1,e!==null&&Ig(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Mf(e,n,r,o,h){return wr(n),r=df(e,n,r,o,void 0,h),o=mf(),e!==null&&!we?(gf(e,n,h),Bi(e,n,h)):(Lt&&o&&Yh(n),n.flags|=1,Fe(e,n,r,h),n.child)}function Hp(e,n,r,o,h,f){return wr(n),n.updateQueue=null,r=Kg(n,o,r,h),Gg(e),o=mf(),e!==null&&!we?(gf(e,n,f),Bi(e,n,f)):(Lt&&o&&Yh(n),n.flags|=1,Fe(e,n,r,f),n.child)}function Fp(e,n,r,o,h){if(wr(n),n.stateNode===null){var f=da,g=r.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?He(g):da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=Dr(r,E);f.props=N;var z=f.context,F=r.contextType;g=da,typeof F=="object"&&F!==null&&(g=He(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&xp(n,f,o,g),Ts=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Qo(),z=n.memoizedState,E||j!==z||Ts?(typeof Y=="function"&&(Nf(n,r,Y,o),z=n.memoizedState),(N=Ts||Np(n,r,N,o,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),g=n.memoizedProps,F=Dr(r,g),f.props=F,Y=n.pendingProps,j=f.context,z=r.contextType,N=da,typeof z=="object"&&z!==null&&(N=He(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==N)&&xp(n,f,o,N),Ts=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Qo();var q=n.memoizedState;g!==Y||j!==q||Ts||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Nf(n,r,E,o),q=n.memoizedState),(F=Ts||Np(n,r,F,o,j,q,N)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=N,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,h),n.child=Nr(n,null,r,h)):Fe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Gp(e,n,r,o){return Ar(),n.flags|=256,Fe(e,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Vg()}}function Lf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function Kp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?bs(n):ws(),(e=ne)?(e=t_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=wg(e),r.return=n,n.child=r,qe=n,ne=null)):e=null,e===null)throw vs(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=Sr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(r),o.childLanes=Lf(e,g,r),n.memoizedState=Vf,tl(null,o)):(bs(n),Uf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=Pf(e,n,r)):n.memoizedState!==null?(ws(),n.child=e.child,n.flags|=128,n=null):(ws(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=Sr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,e.child,null,r),o=n.child,o.memoizedState=kf(r),o.childLanes=Lf(e,g,r),n.memoizedState=Vf,n=tl(null,o));else if(bs(n),_d(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=Pf(e,n,r)}else if(we||ya(e,n,r,!1),g=(r&e.childLanes)!==0,we||g){if(g=ee,g!==null&&(o=To(g,r),o!==0&&o!==N.retryLane))throw N.retryLane=o,Tr(e,o),cn(g,e,o),Of;yd(E)||lc(),n=Pf(e,n,r)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ne=Vn(E.nextSibling),qe=n,Lt=!0,_s=null,On=!1,e!==null&&Ig(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(ws(),E=o.fallback,h=n.mode,N=e.child,z=N.sibling,o=ki(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=ki(z,E):(E=Sr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=kf(r):(h=E.cachePool,h!==null?(N=Ae._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Vg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,g,r),n.memoizedState=Vf,tl(e.child,o)):(bs(n),r=e.child,e=r.sibling,r=ki(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Uf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Pf(e,n,r){return Nr(n,e.child,null,r),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,r)}function zf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Qp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(ge,g),Fe(e,n,o,r),o=Lt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,r,n);else if(e.tag===19)Yp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Bu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}zf(n,!0,r,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ya(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=ki(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=ki(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function _1(e,n,r){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Es(n,Ae,e.memoizedState.cache),Ar();break;case 27:case 5:ir(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(bs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Kp(e,n,r):(bs(n),e=Bi(e,n,r),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ya(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Qp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(ge,ge.current),o)break;return null;case 22:return n.lanes=0,jp(e,n,r,n.pendingProps);case 24:Es(n,Ae,e.memoizedState.cache)}return Bi(e,n,r)}function Xp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!jf(e,r)&&(n.flags&128)===0)return we=!1,_1(e,n,r);we=(e.flags&131072)!==0}else we=!1,Lt&&(n.flags&1048576)!==0&&Cg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Dr(e,o),n.tag=1,n=Fp(null,n,e,o,r)):(n.tag=0,n=Mf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===mt){n.tag=11,n=Up(null,n,e,o,r);break t}else if(h===R){n.tag=14,n=Pp(null,n,e,o,r);break t}}throw n=Rt(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Dr(o,n.pendingProps),Fp(e,n,o,h,r);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Xo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Es(n,Ae,o),o!==f.cache&&Wh(n,[Ae],r,!0),Qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gp(e,n,o,r);break t}else if(o!==h){h=Nn(Error(a(424)),n),qo(h),n=Gp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Vn(e.firstChild),qe=n,Lt=!0,_s=null,On=!0,r=jg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ar(),o===h){n=Bi(e,n,r);break t}Fe(e,n,o,r)}n=n.child}return n;case 26:return Zu(e,n),e===null?(r=a_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,o=gc(bt.current).createElement(r),o[Ee]=n,o[Ve]=e,Ge(o,r,e),Te(o),n.stateNode=o):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ir(n),e===null&&Lt&&(o=n.stateNode=i_(n.type,n.pendingProps,bt.current),qe=n,On=!0,h=ne,Ms(n.type)?(vd=h,ne=Vn(o.firstChild)):ne=h),Fe(e,n,n.pendingProps.children,r),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ne)&&(o=Q1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,qe=n,ne=Vn(o.firstChild),On=!1,h=!0):h=!1),h||vs(n)),ir(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,u1,null,null,r),gl._currentValue=h),Zu(e,n),Fe(e,n,o,r),n.child;case 6:return e===null&&Lt&&((e=r=ne)&&(r=X1(r,n.pendingProps,On),r!==null?(n.stateNode=r,qe=n,ne=null,e=!0):e=!1),e||vs(n)),null;case 13:return Kp(e,n,r);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,r):Fe(e,n,o,r),n.child;case 11:return Up(e,n,n.type,n.pendingProps,r);case 7:return Fe(e,n,n.pendingProps,r),n.child;case 8:return Fe(e,n,n.pendingProps.children,r),n.child;case 12:return Fe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Es(n,n.type,o.value),Fe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,r),n.child;case 14:return Pp(e,n,n.type,n.pendingProps,r);case 15:return zp(e,n,n.type,n.pendingProps,r);case 19:return Qp(e,n,r);case 31:return y1(e,n,r);case 22:return jp(e,n,r,n.pendingProps);case 24:return wr(n),o=He(Ae),e===null?(h=nf(),h===null&&(h=ee,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},rf(n),Es(n,Ae,h)):((e.lanes&r)!==0&&(af(e,n),Xo(n,null,null,r),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Es(n,Ae,o)):(o=f.cache,Es(n,Ae,o),o!==h.cache&&Wh(n,[Ae],r,!0))),Fe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Bf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw Ir=Uu,sf}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h_(n))if(Sy())e.flags|=8192;else throw Ir=Uu,sf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Na|=n)}function el(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function v1(e,n,r){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Ae),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ie(n),$p(n,f)):(ie(n),Bf(n,h,null,o,r))):f?f!==e.memoizedState?(qi(n),ie(n),$p(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ie(n),Bf(n,h,e,o,r)),null;case 27:if(Qr(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=st.current,pa(n)?Ng(n):(e=i_(h,o,r),n.stateNode=e,qi(n))}return ie(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=st.current,pa(n))Ng(n);else{var g=gc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ee]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ie(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,pa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ky(e.nodeValue,r)),e||vs(n,!0)}else e=gc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ee]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else r=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),ie(n),null);case 4:return re(),e===null&&ud(n.stateNode.containerInfo),ie(n),null;case 10:return Pi(n.type),ie(n),null;case 19:if(Q(ge),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)bg(r,e),r=r.sibling;return nt(ge,ge.current&1|2),Lt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>rc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*tn()-o.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,r=ge.current,nt(ge,h?r&1|2:r&1),Lt&&Li(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Rr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function E1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ar()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(ge),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),cf(),e!==null&&Q(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ae),null;case 25:return null;default:return null}}function Jp(e,n){switch(Qh(n),n.tag){case 3:Pi(Ae),re();break;case 26:case 27:case 5:Qr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Q(ge);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),cf(),e!==null&&Q(Rr);break;case 24:Pi(Ae)}}function nl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Xt(n,n.return,E)}}function Rs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=r,z=E;try{z()}catch(F){Xt(h,N,F)}}}o=o.next}while(o!==f)}}catch(F){Xt(n,n.return,F)}}function Zp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{qg(n,r)}catch(o){Xt(e,e.return,o)}}}function Wp(e,n,r){r.props=Dr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Xt(e,n,o)}}function il(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Xt(e,n,h)}}function Ei(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xt(e,n,h)}else r.current=null}function ty(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Xt(e,e.return,h)}}function qf(e,n,r){try{var o=e.stateNode;q1(o,e.type,r,n),o[Ve]=n}catch(h){Xt(e,e.return,h)}}function ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ms(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ms(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Ms(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,r),e=e.sibling;e!==null;)Ff(e,n,r),e=e.sibling}function ec(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ms(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ec(e,n,r),e=e.sibling;e!==null;)ec(e,n,r),e=e.sibling}function ny(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,r),n[Ee]=e,n[Ve]=r}catch(f){Xt(e,e.return,f)}}var Hi=!1,Re=!1,Gf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function T1(e,n){if(e=e.containerInfo,fd=Sc,e=gg(e),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,N=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(N=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++z===h&&(E=g),j===f&&++F===o&&(N=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(dd={focusedElem:e,selectionRange:r},Sc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=Dr(r.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Xt(r,r.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)pd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function sy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(e,r),o&4&&nl(5,r);break;case 1:if(Gi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(r,r.return,g)}else{var h=Dr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(r,r.return,g)}}o&64&&Zp(r),o&512&&il(r,r.return);break;case 3:if(Gi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qg(e,n)}catch(g){Xt(r,r.return,g)}}break;case 27:n===null&&o&4&&ny(r);case 26:case 5:Gi(e,r),n===null&&o&4&&ty(r),o&512&&il(r,r.return);break;case 12:Gi(e,r);break;case 31:Gi(e,r),o&4&&oy(e,r);break;case 13:Gi(e,r),o&4&&ly(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=x1.bind(null,r),$1(e,r))));break;case 22:if(o=r.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Hi;var f=Re;Hi=o,(Re=n)&&!f?Ki(e,r,(r.subtreeFlags&8772)!==0):Gi(e,r),Hi=h,Re=f}break;case 30:break;default:Gi(e,r)}}function ry(e){var n=e.alternate;n!==null&&(e.alternate=null,ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Fi(e,n,r){for(r=r.child;r!==null;)ay(e,n,r),r=r.sibling}function ay(e,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:Re||Ei(r,n),Fi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Re||Ei(r,n);var o=oe,h=an;Ms(r.type)&&(oe=r.stateNode,an=!1),Fi(e,n,r),fl(r.stateNode),oe=o,an=h;break;case 5:Re||Ei(r,n);case 6:if(o=oe,h=an,oe=null,Fi(e,n,r),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:oe!==null&&(an?(e=oe,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):Zy(oe,r.stateNode));break;case 4:o=oe,h=an,oe=r.stateNode.containerInfo,an=!0,Fi(e,n,r),oe=o,an=h;break;case 0:case 11:case 14:case 15:Rs(2,r,n),Re||Rs(4,r,n),Fi(e,n,r);break;case 1:Re||(Ei(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Wp(r,n,o)),Fi(e,n,r);break;case 21:Fi(e,n,r);break;case 22:Re=(o=Re)||r.memoizedState!==null,Fi(e,n,r),Re=o;break;default:Fi(e,n,r)}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Xt(n,n.return,r)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Xt(n,n.return,r)}}function S1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new iy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new iy),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var r=S1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=D1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));ay(f,g,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)uy(n,e),n=n.sibling}var Qn=null;function uy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Rs(3,e,e.return),nl(3,e),Rs(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(Re||r===null||Ei(r,r.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Qn;if(on(n,e),ln(e),o&512&&(Re||r===null||Ei(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,r),f[Ee]=e,Te(f),o=f;break t;case"link":var g=u_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;case"meta":if(g=u_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else c_(h,e.type,e.stateNode);else e.stateNode=l_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?c_(h,e.type,e.stateNode):l_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(Re||r===null||Ei(r,r.return)),r!==null&&o&4&&qf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(Re||r===null||Ei(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(rt){Xt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Xt(e,e.return,rt)}}break;case 3:if(_c=null,h=Qn,Qn=pc(n.containerInfo),on(n,e),Qn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(rt){Xt(e,e.return,rt)}Gf&&(Gf=!1,cy(e));break;case 4:o=Qn,Qn=pc(e.stateNode.containerInfo),on(n,e),ln(e),Qn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,z=Hi,F=Re;if(Hi=z||h,Re=F||N,on(n,e),Re=F,Hi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||Hi||Re||Or(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Xt(N,N.return,rt)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(rt){Xt(N,N.return,rt)}}}else if(n.tag===18){if(r===null){N=n;try{var q=N.stateNode;h?Wy(q,!0):Wy(N.stateNode,!1)}catch(rt){Xt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,nc(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Hf(e);ec(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var E=Hf(e);ec(e,E,g);break;case 3:case 4:var N=r.stateNode.containerInfo,z=Hf(e);Ff(e,z,N);break;default:throw Error(a(161))}}catch(F){Xt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Or(n);break;case 1:Ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Wp(n,n.return,r),Or(n);break;case 27:fl(n.stateNode);case 26:case 5:Ei(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}e=e.sibling}}function Ki(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,r),nl(4,f);break;case 1:if(Ki(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Bg(N[h],E)}catch(z){Xt(o,o.return,z)}}r&&g&64&&Zp(f),il(f,f.return);break;case 27:ny(f);case 26:case 5:Ki(h,f,r),r&&o===null&&g&4&&ty(f),il(f,f.return);break;case 12:Ki(h,f,r);break;case 31:Ki(h,f,r),r&&g&4&&oy(h,f);break;case 13:Ki(h,f,r),r&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,r),il(f,f.return);break;case 30:break;default:Ki(h,f,r)}n=n.sibling}}function Kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ho(r))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function Xn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hy(e,n,r,o),n=n.sibling}function hy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,o),h&2048&&nl(9,n);break;case 1:Xn(e,n,r,o);break;case 3:Xn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Xn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Xt(n,n.return,N)}}else Xn(e,n,r,o);break;case 31:Xn(e,n,r,o);break;case 13:Xn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,r,o):sl(e,n):f._visibility&2?Xn(e,n,r,o):(f._visibility|=2,Ra(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:Xn(e,n,r,o),h&2048&&Yf(n.alternate,n);break;default:Xn(e,n,r,o)}}function Ra(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,N=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,N,h),nl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ra(f,g,E,N,h):sl(f,g):(F._visibility|=2,Ra(f,g,E,N,h)),h&&z&2048&&Kf(g.alternate,g);break;case 24:Ra(f,g,E,N,h),h&&z&2048&&Yf(g.alternate,g);break;default:Ra(f,g,E,N,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:sl(r,o),h&2048&&Kf(o.alternate,o);break;case 24:sl(r,o),h&2048&&Yf(o.alternate,o);break;default:sl(r,o)}n=n.sibling}}var rl=8192;function Ca(e,n,r){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)fy(e,n,r),e=e.sibling}function fy(e,n,r){switch(e.tag){case 26:Ca(e,n,r),e.flags&rl&&e.memoizedState!==null&&lS(r,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,r);break;case 3:case 4:var o=Qn;Qn=pc(e.stateNode.containerInfo),Ca(e,n,r),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Ca(e,n,r),rl=o):Ca(e,n,r));break;default:Ca(e,n,r)}}function dy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,gy(o,e)}dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):al(e);break;default:al(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,gy(o,e)}dy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function gy(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Rs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(ry(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var A1={getCacheForType:function(e){var n=He(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return He(Ae).controller.signal}},b1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,It=null,Dt=0,Qt=0,vn=null,Cs=!1,Ia=!1,Qf=!1,Yi=0,fe=0,Is=0,Mr=0,Xf=0,En=0,Na=0,ol=null,un=null,$f=!1,sc=0,py=0,rc=1/0,ac=null,Ns=null,De=0,xs=null,xa=null,Qi=0,Jf=0,Zf=null,yy=null,ll=0,Wf=null;function Tn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?rd():ou()}function _y(){if(En===0)if((Dt&536870912)===0||Lt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,r){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ds(e,Dt,En,!1)),or(e,r),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Mr|=r),fe===4&&Ds(e,Dt,En,!1)),Ti(e))}function vy(e,n,r){if((Ft&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?C1(e,n):ed(e,n,!0),f=o;do{if(h===0){Ia&&!o&&Ds(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!w1(r)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var N=E.current.memoizedState.isDehydrated;if(N&&(Da(E,g).flags|=256),g=ed(E,g,!1),g!==2){if(Qf&&!N){E.errorRecoveryDisabledLanes|=f,Mr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ds(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,En,!Cs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-tn(),10<h)){if(Ds(o,n,En,!Cs),ii(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=$y(Ey.bind(null,o,r,un,ac,$f,n,En,Mr,Na,Cs,f,"Throttled",-0,0),h);break t}Ey(o,r,un,ac,$f,n,En,Mr,Na,Cs,f,null,-0,0)}}break}while(!0);Ti(e)}function Ey(e,n,r,o,h,f,g,E,N,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},fy(n,f,Y);var rt=(f&62914560)===f?sc-tn():(f&4194048)===f?py-tn():0;if(rt=uS(Y,rt),rt!==null){Qi=f,e.cancelPendingCommit=rt(Iy.bind(null,e,n,f,r,o,h,g,E,N,F,Y,null,j,q)),Ds(e,f,g,!z);return}}Iy(e,n,f,r,o,h,g,E,N)}function w1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,r,o){n&=~Xf,n&=~Mr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&lr(e,r,n)}function oc(){return(Ft&6)===0?(ul(0),!1):!0}function td(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Ui=br=null,pf(e),Ta=null,Go=0,e=It;for(;e!==null;)Jp(e.alternate,e),e=e.return;It=null}}function Da(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,G1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,td(),ee=e,It=r=ki(e.current,null),Dt=n,Qt=0,vn=null,Cs=!1,Ia=zn(e,n),Qf=!1,Na=En=Xf=Mr=Is=fe=0,un=ol=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Iu(),r}function Ty(e,n){At=null,H.H=Wo,n===Ea||n===Lu?(n=Ug(),Qt=3):n===sf?(n=Ug(),Qt=4):Qt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(fe=1,$u(e,Nn(n,e.current)))}function Sy(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function Ay(){var e=H.H;return H.H=Wo,e===null?Wo:e}function by(){var e=H.A;return H.A=A1,e}function lc(){fe=4,Cs||(Dt&4194048)!==Dt&&yn.current!==null||(Ia=!0),(Is&134217727)===0&&(Mr&134217727)===0||ee===null||Ds(ee,Dt,En,!1)}function ed(e,n,r){var o=Ft;Ft|=2;var h=Ay(),f=by();(ee!==e||Dt!==n)&&(ac=null,Da(e,n)),n=!1;var g=fe;t:do try{if(Qt!==0&&It!==null){var E=It,N=vn;switch(Qt){case 8:td(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Qt;if(Qt=0,vn=null,Oa(e,E,N,z),r&&Ia){g=0;break t}break;default:z=Qt,Qt=0,vn=null,Oa(e,E,N,z)}}R1(),g=fe;break}catch(F){Ty(e,F)}while(!0);return n&&e.shellSuspendCounter++,Ui=br=null,Ft=o,H.H=h,H.A=f,It===null&&(ee=null,Dt=0,Iu()),g}function R1(){for(;It!==null;)wy(It)}function C1(e,n){var r=Ft;Ft|=2;var o=Ay(),h=by();ee!==e||Dt!==n?(ac=null,rc=tn()+500,Da(e,n)):Ia=zn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,Oa(e,n,f,1);break;case 2:case 9:if(kg(f)){Qt=0,vn=null,Ry(n);break}n=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),Ti(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:kg(f)?(Qt=0,vn=null,Ry(n)):(Qt=0,vn=null,Oa(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?h_(g):E.stateNode.complete){Qt=0,vn=null;var N=E.sibling;if(N!==null)It=N;else{var z=E.return;z!==null?(It=z,uc(z)):It=null}break e}}Qt=0,vn=null,Oa(e,n,f,5);break;case 6:Qt=0,vn=null,Oa(e,n,f,6);break;case 8:td(),fe=6;break t;default:throw Error(a(462))}}I1();break}catch(F){Ty(e,F)}while(!0);return Ui=br=null,H.H=o,H.A=h,Ft=r,It!==null?0:(ee=null,Dt=0,Iu(),fe)}function I1(){for(;It!==null&&!xh();)wy(It)}function wy(e){var n=Xp(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?uc(e):It=n}function Ry(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Hp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Hp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:pf(n);default:Jp(r,n),n=It=bg(n,Yi),n=Xp(r,n,Yi)}e.memoizedProps=e.pendingProps,n===null?uc(e):It=n}function Oa(e,n,r,o){Ui=br=null,pf(n),Ta=null,Go=0;var h=n.return;try{if(p1(e,h,n,r,Dt)){fe=1,$u(e,Nn(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;fe=1,$u(e,Nn(r,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:Ia||(Dt&536870912)!==0?e=!1:(Cs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Cy(n,Cs);return}e=n.return;var r=v1(n.alternate,n,Yi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);fe===0&&(fe=5)}function Cy(e,n){do{var r=E1(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);fe=6,It=null}function Iy(e,n,r,o,h,f,g,E,N){e.cancelPendingCommit=null;do cc();while(De!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(e,r,f,g,E,N),e===ee&&(It=ee=null,Dt=0),xa=n,xs=e,Qi=r,Jf=f,Zf=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O1(os,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=Ft,Ft|=4;try{T1(e,n,r)}finally{Ft=g,et.p=h,H.T=o}}De=1,Ny(),xy(),Dy()}}function Ny(){if(De===1){De=0;var e=xs,n=xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Ft;Ft|=4;try{uy(n,e);var f=dd,g=gg(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&mg(E.ownerDocument.documentElement,E)){if(N!==null&&Uh(E)){var z=N.start,F=N.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=E.textContent.length,ft=Math.min(N.start,rt),te=N.end===void 0?ft:Math.min(N.end,rt);!q.extend&&ft>te&&(g=te,te=ft,ft=g);var L=dg(E,ft),D=dg(E,te);if(L&&D&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),ft>te?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Sc=!!fd,dd=fd=null}finally{Ft=h,et.p=o,H.T=r}}e.current=n,De=2}}function xy(){if(De===2){De=0;var e=xs,n=xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Ft;Ft|=4;try{sy(e,n.alternate,n)}finally{Ft=h,et.p=o,H.T=r}}De=3}}function Dy(){if(De===4||De===3){De=0,tu();var e=xs,n=xa,r=Qi,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,xa=xs=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Di(r),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(Qi&3)!==0&&cc(),Ti(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Wf?ll++:(ll=0,Wf=e):ll=0,ul(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function cc(){return Ny(),xy(),Dy(),My()}function My(){if(De!==5)return!1;var e=xs,n=Jf;Jf=0;var r=Di(Qi),o=H.T,h=et.p;try{et.p=32>r?32:r,H.T=null,r=Zf,Zf=null;var f=xs,g=Qi;if(De=0,xa=xs=null,Qi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,my(f.current),hy(f,f.current,g,r),Ft=E,ul(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{et.p=h,H.T=o,Oy(e,n)}}function Vy(e,n,r){n=Nn(r,n),n=Df(e.stateNode,n,2),e=As(e,n,2),e!==null&&(or(e,2),Ti(e))}function Xt(e,n,r){if(e.tag===3)Vy(e,e,r);else for(;n!==null;){if(n.tag===3){Vy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){e=Nn(r,e),r=kp(2),o=As(n,r,2),o!==null&&(Lp(r,o,n,e),or(o,2),Ti(o));break}}n=n.return}}function nd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new b1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Qf=!0,h.add(r),e=N1.bind(null,e,n,r),n.then(e,e))}function N1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ee===e&&(Dt&r)===r&&(fe===4||fe===3&&(Dt&62914560)===Dt&&300>tn()-sc?(Ft&2)===0&&Da(e,0):Xf|=r,Na===Dt&&(Na=0)),Ti(e)}function ky(e,n){n===0&&(n=au()),e=Tr(e,n),e!==null&&(or(e,n),Ti(e))}function x1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),ky(e,r)}function D1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ky(e,r)}function O1(e,n){return xe(e,n)}var hc=null,Ma=null,id=!1,fc=!1,sd=!1,Os=0;function Ti(e){e!==Ma&&e.next===null&&(Ma===null?hc=Ma=e:Ma=Ma.next=e),fc=!0,id||(id=!0,V1())}function ul(e,n){if(!sd&&fc){sd=!0;do for(var r=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,zy(o,f))}else f=Dt,f=ii(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(r=!0,zy(o,f));o=o.next}while(r);sd=!1}}function M1(){Ly()}function Ly(){fc=id=!1;var e=0;Os!==0&&F1()&&(e=Os);for(var n=tn(),r=null,o=hc;o!==null;){var h=o.next,f=Uy(o,n);f===0?(o.next=null,r===null?hc=h:r.next=h,h===null&&(Ma=r)):(r=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}De!==0&&De!==5||ul(e),Os!==0&&(Os=0)}function Uy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,N=h[g];N===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,r=Dt,r=ii(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||zn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&as(o),Di(r)){case 2:case 8:r=vo;break;case 32:r=os;break;case 268435456:r=eu;break;default:r=os}return o=Py.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&as(o),e.callbackPriority=2,e.callbackNode=null,2}function Py(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var o=Dt;return o=ii(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vy(e,o,n),Uy(e,tn()),e.callbackNode!=null&&e.callbackNode===r?Py.bind(null,e):null)}function zy(e,n){if(cc())return null;vy(e,n,!0)}function V1(){K1(function(){(Ft&6)!==0?xe(_o,M1):Ly()})}function rd(){if(Os===0){var e=_a;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Os=e}return Os}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function By(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function k1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=jy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var N=g?By(h,g):new FormData(h);wf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?By(h,g):new FormData(h),wf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],L1=od.toLowerCase(),U1=od[0].toUpperCase()+od.slice(1);Yn(L1,"on"+U1)}Yn(_g,"onAnimationEnd"),Yn(vg,"onAnimationIteration"),Yn(Eg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(WT,"onTransitionRun"),Yn(t1,"onTransitionStart"),Yn(e1,"onTransitionCancel"),Yn(Tg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function qy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=N}else for(g=0;g<o.length;g++){if(E=o[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=N}}}}function Nt(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var o=e+"__bubble";r.has(o)||(Hy(n,e,2,!1),r.add(o))}function ld(e,n,r){var o=0;n&&(o|=4),Hy(r,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[dc]){e[dc]=!0,So.forEach(function(r){r!=="selectionchange"&&(P1.has(r)||ld(r,!1,e),ld(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,ld("selectionchange",!1,n))}}function Hy(e,n,r,o){switch(__(n)){case 2:var h=fS;break;case 8:h=dS;break;default:h=bd}r=h.bind(null,n,r,e),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function cd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ds(function(){var z=f,F=wn(r),Y=[];t:{var j=Sg.get(e);if(j!==void 0){var q=mi,rt=e;switch(e){case"keypress":if(gr(r)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":rt="focus",q=yr;break;case"focusout":rt="blur",q=yr;break;case"beforeblur":case"afterblur":q=yr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case _g:case vg:case Eg:q=yu;break;case Tg:q=T;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=St}var ft=(n&4)!==0,te=!ft&&(e==="scroll"||e==="scrollend"),L=ft?j!==null?j+"Capture":null:j;ft=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||L===null||(K=Hn(D,L),K!=null&&ft.push(hl(D,K,P))),te)break;D=D.return}0<ft.length&&(j=new q(j,rt,null,r,F),Y.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Do&&(rt=r.relatedTarget||r.fromElement)&&(oi(rt)||rt[ri]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=z,rt=rt?oi(rt):null,rt!==null&&(te=c(rt),ft=rt.tag,rt!==te||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(ft=ko,K="onMouseLeave",L="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Vi,K="onPointerLeave",L="onPointerEnter",D="pointer"),te=q==null?j:dn(q),P=rt==null?j:dn(rt),j=new ft(K,D+"leave",q,r,F),j.target=te,j.relatedTarget=P,K=null,oi(F)===z&&(ft=new ft(L,D+"enter",rt,r,F),ft.target=P,ft.relatedTarget=te,K=ft),te=K,q&&rt)e:{for(ft=z1,L=q,D=rt,P=0,K=L;K;K=ft(K))P++;K=0;for(var ut=D;ut;ut=ft(ut))K++;for(;0<P-K;)L=ft(L),P--;for(;0<K-P;)D=ft(D),K--;for(;P--;){if(L===D||D!==null&&L===D.alternate){ft=L;break e}L=ft(L),D=ft(D)}ft=null}else ft=null;q!==null&&Fy(Y,j,q,ft,!1),rt!==null&&te!==null&&Fy(Y,te,rt,ft,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=og;else if(rg(j))if(lg)Bt=$T;else{Bt=QT;var at=YT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&na(z.elementType)&&(Bt=og):Bt=XT;if(Bt&&(Bt=Bt(e,z))){ag(Y,Bt,r,F);break t}at&&at(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(at=z?dn(z):window,e){case"focusin":(rg(at)||at.contentEditable==="true")&&(ca=at,Ph=z,jo=null);break;case"focusout":jo=Ph=ca=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,pg(Y,r,F);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":pg(Y,r,F)}var wt;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ua?_r(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(yi&&r.locale!=="ko"&&(ua||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ua&&(wt=Mo()):(di=F,Oo="value"in di?di.value:di.textContent,ua=!0)),at=mc(z,Ot),0<at.length&&(Ot=new pi(Ot,e,null,r,F),Y.push({event:Ot,listeners:at}),wt?Ot.data=wt:(wt=la(r),wt!==null&&(Ot.data=wt)))),(wt=Cn?HT(e,r):FT(e,r))&&(Ot=mc(z,"onBeforeInput"),0<Ot.length&&(at=new pi("onBeforeInput","beforeinput",null,r,F),Y.push({event:at,listeners:Ot}),at.data=wt)),k1(Y,e,z,r,F)}qy(Y,n)})}function hl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function mc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,r),h!=null&&o.unshift(hl(e,h,f)),h=Hn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=Hn(r,f),z!=null&&g.unshift(hl(r,z,N))):h||(z=Hn(r,f),z!=null&&g.push(hl(r,z,N)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var j1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(j1,`
`).replace(B1,"")}function Ky(e,n){return n=Gy(n),Gy(e)===n}function Wt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,r,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,ta(e,r,o))}}function hd(e,n,r,o,h,f){switch(r){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ta(e,r,o)}}}function Ge(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),o&&Wt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,N=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":N=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Wt(e,n,o,F,r,null)}}hu(e,f,E,N,z,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?us(e,!!o,n,!1):r!=null&&us(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,g,E,r,null)}cs(e,o,h,f);return;case"option":for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,N,o,r,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Nt(cl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,r,null)}return;default:if(na(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&hd(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Wt(e,n,E,o,r,null))}function q1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,z=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(q)||Wt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Wt(e,n,j,q,o,Y)}}ea(e,g,E,N,z,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":q=N;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=r[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&Wt(e,n,h,f,o,N)}n=E,r=g,o=q,j!=null?us(e,!!r,j,!1):!!o!=!!r&&(n!=null?us(e,!!r,n,!0):us(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}fu(e,j,q);return;case"option":for(var rt in r)j=r[rt],r.hasOwnProperty(rt)&&j!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Wt(e,n,rt,null,o,j));for(N in o)j=o[N],q=r[N],o.hasOwnProperty(N)&&j!==q&&(j!=null||q!=null)&&(N==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,N,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)j=r[ft],r.hasOwnProperty(ft)&&j!=null&&!o.hasOwnProperty(ft)&&Wt(e,n,ft,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,z,j,o,q)}return;default:if(na(n)){for(var te in r)j=r[te],r.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&hd(e,n,te,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||hd(e,n,F,j,o,q);return}}for(var L in r)j=r[L],r.hasOwnProperty(L)&&j!=null&&!o.hasOwnProperty(L)&&Wt(e,n,L,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Wt(e,n,Y,j,o,q)}function Yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Yy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var N=r[o],z=N.startTime;if(z>E)break;var F=N.transferSize,Y=N.initiatorType;F&&Yy(Y)&&(N=N.responseEnd,g+=F*(N<E?1:(E-z)/(N-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function F1(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(Y1)}:$y;function Y1(e){setTimeout(function(){throw e})}function Ms(e){return e==="head"}function Zy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")fl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,fl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&fl(e.ownerDocument.body);r=h}while(r);Ua(n)}function Wy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pd(r),Wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Q1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function X1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function t_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function e_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function n_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function i_(e,n,r){switch(n=gc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wr(e)}var kn=new Map,s_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=et.d;et.d={f:J1,r:Z1,D:W1,C:tS,L:eS,m:nS,X:sS,S:iS,M:rS};function J1(){var e=Xi.f(),n=oc();return e||n}function Z1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Tp(n):Xi.r(e)}var Va=typeof document>"u"?null:document;function r_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function W1(e){Xi.D(e),r_("dns-prefetch",e,null)}function tS(e,n){Xi.C(e,n),r_("preconnect",e,n)}function eS(e,n,r){Xi.L(e,n,r);var o=Va;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=La(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Ge(n,"link",e),Te(n),o.head.appendChild(n)))}}function nS(e,n){Xi.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ml(f)))return}o=r.createElement("link"),Ge(o,"link",e),Te(o),r.head.appendChild(o)}}}function iS(e,n,r){Xi.S(e,n,r);var o=Va;if(o&&e){var h=li(o).hoistableStyles,f=ka(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=kn.get(f))&&Ed(e,r);var N=g=o.createElement("link");Te(N),Ge(N,"link",e),N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function sS(e,n){Xi.X(e,n);var r=Va;if(r&&e){var o=li(r).hoistableScripts,h=La(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=w({src:e,async:!0},n),(n=kn.get(h))&&Td(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function rS(e,n){Xi.M(e,n);var r=Va;if(r&&e){var o=li(r).hoistableScripts,h=La(e),f=o.get(h);f||(f=r.querySelector(ml(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Td(e,n),f=r.createElement("script"),Te(f),Ge(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function a_(e,n,r,o){var h=(h=bt.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ka(r.href),r=li(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ka(r.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(e,r),f||aS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(r),r=li(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+sn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function aS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",r),Te(n),e.head.appendChild(n))}function La(e){return'[src="'+sn(e)+'"]'}function ml(e){return"script[async]"+e}function l_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Ge(o,"style",h),yc(o,r.precedence,e),n.instance=o;case"stylesheet":h=ka(r.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=o_(r),(h=kn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Ge(f,"link",o),n.state.loading|=4,yc(f,r.precedence,e),n.instance=f;case"script":return f=La(r.src),(h=e.querySelector(ml(f)))?(n.instance=h,Te(h),h):(o=r,(h=kn.get(f))&&(o=w({},r),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,r.precedence,e));return n.instance}function yc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function u_(e,n,r){if(_c===null){var o=new Map,h=_c=new Map;h.set(r,o)}else h=_c,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ai]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function c_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function oS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ka(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Te(f);return}f=n.ownerDocument||n,o=o_(o),(h=kn.get(h))&&Ed(o,h),f=f.createElement("link"),Te(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Ge(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=vc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function uS(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*H1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(cS,e),Ec=null,vc.call(e))}function cS(e,n){if(!(n.state.loading&4)){var r=Ec.get(e);if(r)var o=r.get(null);else{r=new Map,Ec.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function hS(e,n,r,o,h,f,g,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function f_(e,n,r,o,h,f,g,E,N,z,F,Y){return e=new hS(e,n,r,g,N,z,F,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},rf(f),e}function d_(e){return e?(e=da,e):da}function m_(e,n,r,o,h,f){h=d_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=As(e,o,n),r!==null&&(cn(r,e,n),Yo(r,e,n))}function g_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ad(e,n){g_(e,n),(e=e.alternate)&&g_(e,n)}function p_(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&cn(n,e,67108864),Ad(e,67108864)}}function y_(e){if(e.tag===13||e.tag===31){var n=Tn();n=ur(n);var r=Tr(e,n);r!==null&&cn(r,e,n),Ad(e,n)}}var Sc=!0;function fS(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,bd(e,n,r,o)}finally{et.p=f,H.T=h}}function dS(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,bd(e,n,r,o)}finally{et.p=f,H.T=h}}function bd(e,n,r,o){if(Sc){var h=wd(o);if(h===null)cd(e,n,o,Ac,r),v_(e,o);else if(gS(h,e,n,r,o))o.stopPropagation();else if(v_(e,o),n&4&&-1<mS.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-de(g);E.entanglements[1]|=N,g&=~N}Ti(f),(Ft&6)===0&&(rc=tn()+500,ul(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&cn(E,f,2),oc(),Ad(f,2)}if(f=wd(o),f===null&&cd(e,n,o,Ac,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,r)}}function wd(e){return e=wn(e),Rd(e)}var Ac=null;function Rd(e){if(Ac=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case _o:return 2;case vo:return 8;case os:case Dh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Vs=null,ks=null,Ls=null,pl=new Map,yl=new Map,Us=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&p_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gS(e,n,r,o,h){switch(n){case"focusin":return Vs=_l(Vs,e,n,r,o,h),!0;case"dragenter":return ks=_l(ks,e,n,r,o,h),!0;case"mouseover":return Ls=_l(Ls,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,r,o,h)),!0}return!1}function E_(e){var n=oi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,jn(e.priority,function(){y_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=wd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Do=o,r.target.dispatchEvent(o),Do=null}else return n=bn(r),n!==null&&p_(n),e.blockedOn=r,!1;n.shift()}return!0}function T_(e,n,r){bc(e)&&r.delete(n)}function pS(){Cd=!1,Vs!==null&&bc(Vs)&&(Vs=null),ks!==null&&bc(ks)&&(ks=null),Ls!==null&&bc(Ls)&&(Ls=null),pl.forEach(T_),yl.forEach(T_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pS)))}var Rc=null;function S_(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(N){return wc(N,e)}Vs!==null&&wc(Vs,e),ks!==null&&wc(ks,e),Ls!==null&&wc(Ls,e),pl.forEach(n),yl.forEach(n);for(var r=0;r<Us.length;r++){var o=Us[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(r=Us[0],r.blockedOn===null);)E_(r),r.blockedOn===null&&Us.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||S_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Rd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),S_(r)}}}function A_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Cc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Tn();m_(r,o,e,n,null,null)},Cc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m_(e.current,2,null,e,null,null),oc(),n[ri]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Us.length&&n!==0&&n<Us[r].priority;r++);Us.splice(r,0,e),r===0&&E_(e)}};var b_=t.version;if(b_!=="19.2.4")throw Error(a(527,b_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Pn=Ic.inject(yS),je=Ic}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Dp,f=Op,g=Mp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=f_(e,1,!1,null,null,r,o,null,h,f,g,A_),e[ri]=n.current,ud(e),new Id(n)},El.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dp,g=Op,E=Mp,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=f_(e,1,!0,n,r??null,o,h,N,f,g,E,A_),n.context=d_(null),r=n.current,o=Tn(),o=ur(o),h=Ss(o),h.callback=null,As(r,h,o),r=o,n.current.lanes=r,or(n,r),Ti(n),e[ri]=n.current,ud(e),new Cc(n)},El.version="19.2.4",El}var V_;function CS(){if(V_)return Dd.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=RS(),Dd.exports}var IS=CS();const _0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const NS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const xS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const k_=s=>{const t=xS(s);return t.charAt(0).toUpperCase()+t.slice(1)};var DS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const MS=Ct.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ct.createElement("svg",{ref:y,...DS,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:_0("lucide",l),...!c&&!OS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Ct.createElement(_,S)),...Array.isArray(c)?c:[c]]));const $t=(s,t)=>{const i=Ct.forwardRef(({className:a,...l},c)=>Ct.createElement(MS,{ref:c,iconNode:t,className:_0(`lucide-${NS(k_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=k_(s),i};const VS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],kS=$t("book-open",VS);const LS=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],US=$t("calendar-clock",LS);const PS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zS=$t("chevron-right",PS);const jS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BS=$t("circle-check-big",jS);const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],L_=$t("circle-user",qS);const HS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FS=$t("clock",HS);const GS=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],KS=$t("cloud",GS);const YS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],QS=$t("house",YS);const XS=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],$S=$t("key-round",XS);const JS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ZS=$t("loader-circle",JS);const WS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U_=$t("lock",WS);const tA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],eA=$t("log-in",tA);const nA=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],iA=$t("maximize",nA);const sA=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],rA=$t("move",sA);const aA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],oA=$t("pause",aA);const lA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],uA=$t("play",lA);const cA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hA=$t("rotate-ccw",cA);const fA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dA=$t("save",fA);const mA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P_=$t("settings",mA);const gA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pA=$t("shield-check",gA);const yA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_A=$t("shopping-bag",yA);const vA=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],z_=$t("skip-back",vA);const EA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],TA=$t("skip-forward",EA);const SA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v0=$t("smartphone",SA);const AA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bA=$t("star",AA);const wA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RA=$t("users",wA);const CA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yd=$t("x",CA);const IA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],NA=$t("zoom-in",IA);const xA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],DA=$t("zoom-out",xA),OA=()=>{};var j_={};const E0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},MA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let k=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(k=64)),a.push(i[S],i[w],i[k],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(E0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new VA;const k=c<<2|p>>4;if(a.push(k),_!==64){const G=p<<4&240|_>>2;if(a.push(G),w!==64){const J=_<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kA=function(s){const t=E0(s);return T0.encodeByteArray(t,!0)},Kc=function(s){return kA(s).replace(/\./g,"")},S0=function(s){try{return T0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const UA=()=>LA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},zA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&S0(s[1]);return t&&JSON.parse(t)},dh=()=>{try{return OA()||UA()||PA()||zA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},A0=s=>dh()?.emulatorHosts?.[s],jA=s=>{const t=A0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>dh()?.config,w0=s=>dh()?.[`_${s}`];class BA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R0(s){return(await fetch(s,{credentials:"include"})).ok}function qA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Il={};function HA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?s.emulator.push(t):s.prod.push(t);return s}function FA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let B_=!1;function C0(s,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Il[s]===t||Il[s]||B_)return;Il[s]=t;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=HA().prod.length>0;function d(){const k=document.getElementById(a);k&&k.remove()}function p(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function y(k,G){k.setAttribute("width","24"),k.setAttribute("id",G),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function _(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{B_=!0,d()},k}function S(k,G){k.setAttribute("id",G),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function w(){const k=FA(a),G=i("text"),J=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),tt=document.getElementById(W)||document.createElement("a"),ot=i("preprendIcon"),yt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const dt=k.element;p(dt),S(tt,W);const mt=_();y(yt,ot),dt.append(yt,J,tt,mt),document.body.appendChild(dt)}c?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function KA(){const s=dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function JA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const tb="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tb,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?eb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ss(l,p,a)}}function eb(s,t){return s.replace(nb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const nb=/\{\$([^}]+)}/g;function ib(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function zr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(q_(c)&&q_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}function Gl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Sl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Al(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function sb(s,t){const i=new rb(s,t);return i.subscribe.bind(i)}class rb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ab(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ab(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function kd(){}function fn(s){return s&&s._delegate?s._delegate:s}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class ob{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new BA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ub(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lb(s){return s===kr?void 0:s}function ub(s){return s.instantiationMode==="EAGER"}class cb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ob(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const hb={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},fb=Mt.INFO,db={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},mb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=db[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=fb,this._logHandler=mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const gb=(s,t)=>t.some(i=>s instanceof i);let H_,F_;function pb(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yb(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,Qd=new WeakMap,N0=new WeakMap,Ld=new WeakMap,Em=new WeakMap;function _b(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&I0.set(i,s)}).catch(()=>{}),Em.set(t,s),t}function vb(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Xd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||N0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Eb(s){Xd=s(Xd)}function Tb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ud(this),t,...i);return N0.set(a,t.sort?t.sort():[t]),Gs(a)}:yb().includes(s)?function(...t){return s.apply(Ud(this),t),Gs(I0.get(this))}:function(...t){return Gs(s.apply(Ud(this),t))}}function Sb(s){return typeof s=="function"?Tb(s):(s instanceof IDBTransaction&&vb(s),gb(s,pb())?new Proxy(s,Xd):s)}function Gs(s){if(s instanceof IDBRequest)return _b(s);if(Ld.has(s))return Ld.get(s);const t=Sb(s);return t!==s&&(Ld.set(s,t),Em.set(t,s)),t}const Ud=s=>Em.get(s);function Ab(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Gs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Gs(d.result),y.oldVersion,y.newVersion,Gs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const bb=["get","getKey","getAll","getAllKeys","count"],wb=["put","add","delete","clear"],Pd=new Map;function G_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=wb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||bb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Pd.set(t,c),c}Eb(s=>({...s,get:(t,i,a)=>G_(t,i)||s.get(t,i,a),has:(t,i)=>!!G_(t,i)||s.has(t,i)}));class Rb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Cb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Cb(s){return s.getComponent()?.type==="VERSION"}const $d="@firebase/app",K_="0.14.7";const Wi=new vm("@firebase/app"),Ib="@firebase/app-compat",Nb="@firebase/analytics-compat",xb="@firebase/analytics",Db="@firebase/app-check-compat",Ob="@firebase/app-check",Mb="@firebase/auth",Vb="@firebase/auth-compat",kb="@firebase/database",Lb="@firebase/data-connect",Ub="@firebase/database-compat",Pb="@firebase/functions",zb="@firebase/functions-compat",jb="@firebase/installations",Bb="@firebase/installations-compat",qb="@firebase/messaging",Hb="@firebase/messaging-compat",Fb="@firebase/performance",Gb="@firebase/performance-compat",Kb="@firebase/remote-config",Yb="@firebase/remote-config-compat",Qb="@firebase/storage",Xb="@firebase/storage-compat",$b="@firebase/firestore",Jb="@firebase/ai",Zb="@firebase/firestore-compat",Wb="firebase",tw="12.8.0";const Jd="[DEFAULT]",ew={[$d]:"fire-core",[Ib]:"fire-core-compat",[xb]:"fire-analytics",[Nb]:"fire-analytics-compat",[Ob]:"fire-app-check",[Db]:"fire-app-check-compat",[Mb]:"fire-auth",[Vb]:"fire-auth-compat",[kb]:"fire-rtdb",[Lb]:"fire-data-connect",[Ub]:"fire-rtdb-compat",[Pb]:"fire-fn",[zb]:"fire-fn-compat",[jb]:"fire-iid",[Bb]:"fire-iid-compat",[qb]:"fire-fcm",[Hb]:"fire-fcm-compat",[Fb]:"fire-perf",[Gb]:"fire-perf-compat",[Kb]:"fire-rc",[Yb]:"fire-rc-compat",[Qb]:"fire-gcs",[Xb]:"fire-gcs-compat",[$b]:"fire-fst",[Zb]:"fire-fst-compat",[Jb]:"fire-vertex","fire-js":"fire-js",[Wb]:"fire-js-all"};const Yc=new Map,nw=new Map,Zd=new Map;function Y_(s,t){try{s.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(Zd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,s);for(const i of Yc.values())Y_(i,s);for(const i of nw.values())Y_(i,s);return!0}function Tm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Sn(s){return s==null?!1:s.settings!==void 0}const iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Fl("app","Firebase",iw);class sw{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const oo=tw;function x0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ks.create("bad-app-name",{appName:String(l)});if(i||(i=b0()),!i)throw Ks.create("no-options");const c=Yc.get(l);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Ks.create("duplicate-app",{appName:l})}const d=new cb(l);for(const y of Zd.values())d.addComponent(y);const p=new sw(i,a,d);return Yc.set(l,p),p}function D0(s=Jd){const t=Yc.get(s);if(!t&&s===Jd&&b0())return x0();if(!t)throw Ks.create("no-app",{appName:s});return t}function Ys(s,t,i){let a=ew[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Wa(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rw="firebase-heartbeat-database",aw=1,Vl="firebase-heartbeat-store";let zd=null;function O0(){return zd||(zd=Ab(rw,aw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ks.create("idb-open",{originalErrorMessage:s.message})})),zd}async function ow(s){try{const i=(await O0()).transaction(Vl),a=await i.objectStore(Vl).get(M0(s));return await i.done,a}catch(t){if(t instanceof ss)Wi.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function Q_(s,t){try{const a=(await O0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,M0(s)),await a.done}catch(i){if(i instanceof ss)Wi.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function M0(s){return`${s.name}!${s.options.appId}`}const lw=1024,uw=30;class cw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uw){const l=dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=hw(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function hw(s,t=lw){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ow(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function dw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function mw(s){Wa(new jr("platform-logger",t=>new Rb(t),"PRIVATE")),Wa(new jr("heartbeat",t=>new cw(t),"PRIVATE")),Ys($d,K_,s),Ys($d,K_,"esm2020"),Ys("fire-js","")}mw("");var gw="firebase",pw="12.8.0";Ys(gw,pw,"app");function V0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yw=V0,k0=new Fl("auth","Firebase",V0());const Qc=new vm("@firebase/auth");function _w(s,...t){Qc.logLevel<=Mt.WARN&&Qc.warn(`Auth (${oo}): ${s}`,...t)}function Lc(s,...t){Qc.logLevel<=Mt.ERROR&&Qc.error(`Auth (${oo}): ${s}`,...t)}function Wn(s,...t){throw Sm(s,...t)}function Ai(s,...t){return Sm(s,...t)}function L0(s,t,i){const a={...yw(),[t]:i};return new Fl("auth","Firebase",a).create(t,{appName:s.name})}function bi(s){return L0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return k0.create(s,...t)}function gt(s,t,...i){if(!s)throw Sm(t,...i)}function $i(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function ts(s,t){s||$i(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function vw(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||QA()||"connection"in navigator)?navigator.onLine:!0}function Tw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=GA()||XA()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(s,t){ts(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class U0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bw=new Kl(3e4,6e4);function rs(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function er(s,t,i,a,l={}){return P0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Gl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return YA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ao(s.emulatorConfig.host)&&(_.credentials="include"),U0.fetch()(await z0(s,s.config.apiHost,i,p),_)})}async function P0(s,t,i){s._canInitEmulator=!1;const a={...Sw,...t};try{const l=new Rw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(s,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw L0(s,S,_);Wn(s,S)}}catch(l){if(l instanceof ss)throw l;Wn(s,"network-request-failed",{message:String(l)})}}async function lo(s,t,i,a,l={}){const c=await er(s,t,i,a,l);return"mfaPendingCredential"in c&&Wn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function z0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Am(s.config,l):`${s.config.apiScheme}://${l}`;return Aw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ww(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),bw.get())})}}function Nc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ai(s,t,a);return l.customData._tokenResponse=i,l}function Z_(s){return s!==void 0&&s.enterprise!==void 0}class Cw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ww(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Iw(s,t){return er(s,"GET","/v2/recaptchaConfig",rs(s,t))}async function Nw(s,t){return er(s,"POST","/v1/accounts:delete",t)}async function Xc(s,t){return er(s,"POST","/v1/accounts:lookup",t)}function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xw(s,t=!1){const i=fn(s),a=await i.getIdToken(t),l=bm(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(jd(l.auth_time)),issuedAtTime:Nl(jd(l.iat)),expirationTime:Nl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(s){return Number(s)*1e3}function bm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=S0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(s){const t=bm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&Dw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Dw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ow{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const t=s.auth,i=await s.getIdToken(),a=await kl(s,Xc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?j0(l.providerUserInfo):[],d=Vw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function Mw(s){const t=fn(s);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Vw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function j0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kw(s,t){const i=await P0(s,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await z0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&ao(s.emulatorConfig.host)&&(y.credentials="include"),U0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Lw(s,t){return er(s,"POST","/v2/accounts:revokeToken",rs(s,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=W_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await kw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return $i("not implemented")}}function zs(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return xw(this,t)}reload(){return Mw(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(bi(this.auth));const t=await this.getIdToken();return await kl(this,Nw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:k,isAnonymous:G,providerData:J,stsTokenManager:W}=i;gt(w&&W,t,"internal-error");const tt=Ka.fromJSON(this.name,W);gt(typeof w=="string",t,"internal-error"),zs(a,t.name),zs(l,t.name),gt(typeof k=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(p,t.name),zs(y,t.name),zs(_,t.name),zs(S,t.name);const ot=new $n({uid:w,auth:t,email:l,emailVerified:k,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:S});return J&&Array.isArray(J)&&(ot.providerData=J.map(yt=>({...yt}))),y&&(ot._redirectEventId=y),ot}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?j0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const y=new $n({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const tv=new Map;function Ji(s){ts(s instanceof Function,"Expected a class definition");let t=tv.get(s);return t?(ts(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,tv.set(s,t),t)}class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}B0.type="NONE";const ev=B0;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(Ji(ev),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ji(ev);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const k=await Xc(t,{idToken:S}).catch(()=>{});if(!k)break;w=await $n._fromGetAccountInfoResponse(t,k,S)}else w=$n._fromJSON(t,S);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,a))}}function nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(G0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y0(t))return"Blackberry";if(Q0(t))return"Webos";if(H0(t))return"Safari";if((t.includes("chrome/")||F0(t))&&!t.includes("edge/"))return"Chrome";if(K0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function q0(s=We()){return/firefox\//i.test(s)}function H0(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function F0(s=We()){return/crios\//i.test(s)}function G0(s=We()){return/iemobile/i.test(s)}function K0(s=We()){return/android/i.test(s)}function Y0(s=We()){return/blackberry/i.test(s)}function Q0(s=We()){return/webos/i.test(s)}function wm(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Uw(s=We()){return wm(s)&&!!window.navigator?.standalone}function Pw(){return $A()&&document.documentMode===10}function X0(s=We()){return wm(s)||K0(s)||Q0(s)||Y0(s)||/windows phone/i.test(s)||G0(s)}function $0(s,t=[]){let i;switch(s){case"Browser":i=nv(We());break;case"Worker":i=`${nv(We())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${a}`}class zw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jw(s,t={}){return er(s,"GET","/v2/passwordPolicy",rs(s,t))}const Bw=6;class qw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Bw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Hw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new zw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Sn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Tw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sn(this.app))return Promise.reject(bi(this));const i=t?fn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jw(this),i=new qw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Lw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_w(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nr(s){return fn(s)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=sb(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fw(s){mh=s}function J0(s){return mh.loadJS(s)}function Gw(){return mh.recaptchaEnterpriseScript}function Kw(){return mh.gapiScript}function Yw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Qw{constructor(){this.enterprise=new Xw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class Xw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const $w="recaptcha-enterprise",Z0="NO_RECAPTCHA";class Jw{constructor(t){this.type=$w,this.auth=nr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Iw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Cw(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;Z_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(Z0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&Z_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Gw();y.length!==0&&(y+=p),J0(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function sv(s,t,i,a=!1,l=!1){const c=new Jw(s);let d;if(l)d=Z0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rv(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Zw(s,t){const i=Tm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return l;Wn(l,"already-initialized")}return i.initialize({options:t})}function Ww(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function t2(s,t,i){const a=nr(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=W0(t),{host:d,port:p}=e2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(zr(_,a.config.emulator)&&zr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ao(d)?(R0(`${c}//${d}${y}`),C0("Auth",!0)):n2()}function W0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function e2(s){const t=W0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:av(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:av(d)}}}function av(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function n2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Rm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function i2(s,t){return er(s,"POST","/v1/accounts:signUp",t)}async function s2(s,t){return lo(s,"POST","/v1/accounts:signInWithPassword",rs(s,t))}async function r2(s,t){return lo(s,"POST","/v1/accounts:signInWithEmailLink",rs(s,t))}async function a2(s,t){return lo(s,"POST","/v1/accounts:signInWithEmailLink",rs(s,t))}class Ll extends Rm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ll(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Ll(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rv(t,i,"signInWithPassword",s2);case"emailLink":return r2(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rv(t,a,"signUpPassword",i2);case"emailLink":return a2(t,{idToken:i,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Qa(s,t){return lo(s,"POST","/v1/accounts:signInWithIdp",rs(s,t))}const o2="http://localhost";class Br extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Br(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}function l2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u2(s){const t=Sl(Al(s)).link,i=t?Sl(Al(t)).deep_link_id:null,a=Sl(Al(s)).deep_link_id;return(a?Sl(Al(a)).link:null)||a||i||t||s}class Cm{constructor(t){const i=Sl(Al(t)),a=i.apiKey??null,l=i.oobCode??null,c=l2(i.mode??null);gt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=u2(t);try{return new Cm(i)}catch{return null}}}class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,i){return Ll._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Cm.parseLink(i);return gt(a,"argument-error"),Ll._fromEmailAndCode(t,a.code,a.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yl extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class js extends Yl{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Bs extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Yl{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Yl{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function c2(s,t){return lo(s,"POST","/v1/accounts:signUp",rs(s,t))}class es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await $n._fromIdTokenResponse(t,a,l),d=ov(a);return new es({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=ov(a);return new es({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function lv(s){if(Sn(s.app))return Promise.reject(bi(s));const t=nr(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new es({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await c2(t,{returnSecureToken:!0}),a=await es._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Jc extends ss{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Jc(t,i,a,l)}}function eE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,t,a):c})}async function h2(s,t,i=!1){const a=await kl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return es._forOperation(s,"link",a)}async function f2(s,t,i=!1){const{auth:a}=s;if(Sn(a.app))return Promise.reject(bi(a));const l="reauthenticate";try{const c=await kl(s,eE(a,l,t,s),i);gt(c.idToken,a,"internal-error");const d=bm(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),es._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(a,"user-mismatch"),c}}async function nE(s,t,i=!1){if(Sn(s.app))return Promise.reject(bi(s));const a="signIn",l=await eE(s,a,t),c=await es._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function d2(s,t){return nE(nr(s),t)}async function m2(s,t){return lo(s,"POST","/v1/accounts:signInWithCustomToken",rs(s,t))}async function g2(s,t){if(Sn(s.app))return Promise.reject(bi(s));const i=nr(s),a=await m2(i,{token:t,returnSecureToken:!0}),l=await es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}async function p2(s){const t=nr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function y2(s,t,i){return Sn(s.app)?Promise.reject(bi(s)):d2(fn(s),uo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&p2(s),a})}function _2(s,t,i,a){return fn(s).onIdTokenChanged(t,i,a)}function v2(s,t,i){return fn(s).beforeAuthStateChanged(t,i)}function E2(s,t,i,a){return fn(s).onAuthStateChanged(t,i,a)}function T2(s){return fn(s).signOut()}const Zc="__sak";class iE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=1e3,A2=10;class sE extends iE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Pw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,A2):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sE.type="LOCAL";const b2=sE;class rE extends iE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}rE.type="SESSION";const aE=rE;function w2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new gh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await w2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Im(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class R2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Im("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const k=w;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function C2(s){wi().location.href=s}function oE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function I2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){return navigator?.serviceWorker?.controller||null}function x2(){return oE()?self:null}const lE="firebaseLocalStorageDb",D2=1,Wc="firebaseLocalStorage",uE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(s,t){return s.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function O2(){const s=indexedDB.deleteDatabase(lE);return new Ql(s).toPromise()}function em(){const s=indexedDB.open(lE,D2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Wc,{keyPath:uE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await O2(),t(await em()))})})}async function uv(s,t,i){const a=ph(s,!0).put({[uE]:t,value:i});return new Ql(a).toPromise()}async function M2(s,t){const i=ph(s,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function cv(s,t){const i=ph(s,!0).delete(t);return new Ql(i).toPromise()}const V2=800,k2=3;class cE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>k2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(x2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await uv(t,Zc,"1"),await cv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>uv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>M2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cE.type="LOCAL";const L2=cE;new Kl(3e4,6e4);function U2(s,t){return t?Ji(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Nm extends Rm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function P2(s){return nE(s.auth,new Nm(s),s.bypassAuthState)}function z2(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),f2(i,new Nm(s),s.bypassAuthState)}async function j2(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),h2(i,new Nm(s),s.bypassAuthState)}class hE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:Wn(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B2=new Kl(2e3,1e4);class Ga extends hE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,B2.get())};t()}}Ga.currentPopupAction=null;const q2="pendingRedirect",Pc=new Map;class H2 extends hE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await F2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(s,t){const i=Y2(t),a=K2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function G2(s,t){Pc.set(s._key(),t)}function K2(s){return Ji(s._redirectPersistence)}function Y2(s){return Uc(q2,s.config.apiKey,s.name)}async function Q2(s,t,i=!1){if(Sn(s.app))return Promise.reject(bi(s));const a=nr(s),l=U2(a,t),d=await new H2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const X2=600*1e3;class $2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!J2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(t))}saveEventToCache(t){this.cachedEventUids.add(hv(t)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function J2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fE(s);default:return!1}}async function Z2(s,t={}){return er(s,"GET","/v1/projects",t)}const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function eR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Z2(s);for(const i of t)try{if(nR(i))return}catch{}Wn(s,"unauthorized-domain")}function nR(s){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tR.test(i))return!1;if(W2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const iR=new Kl(3e4,6e4);function fv(){const s=wi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sR(s){return new Promise((t,i)=>{function a(){fv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fv(),i(Ai(s,"network-request-failed"))},timeout:iR.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=Yw("iframefcb");return wi()[l]=()=>{gapi.load?a():i(Ai(s,"network-request-failed"))},J0(`${Kw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function rR(s){return zc=zc||sR(s),zc}const aR=new Kl(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Am(t,lR):`https://${s.config.authDomain}/${oR}`,a={apiKey:t.apiKey,appName:s.name,v:oo},l=cR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function fR(s){const t=await rR(s),i=wi().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:hR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(s,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},aR.get());function y(){wi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,pR="_blank",yR="http://localhost";class dv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(s,t,i,a=mR,l=gR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...dR,width:a.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(p=F0(_)?pR:i),q0(_)&&(t=t||yR,y.scrollbars="yes");const S=Object.entries(y).reduce((k,[G,J])=>`${k}${G}=${J},`,"");if(Uw(_)&&p!=="_self")return vR(t||"",p),new dv(null);const w=window.open(t||"",p,S);gt(w,s,"popup-blocked");try{w.focus()}catch{}return new dv(w)}function vR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const ER="__/auth/handler",TR="emulator/auth/handler",SR=encodeURIComponent("fac");async function mv(s,t,i,a,l,c){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:oo,eventId:l};if(t instanceof tE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",ib(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Yl){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await s._getAppCheckToken(),_=y?`#${SR}=${encodeURIComponent(y)}`:"";return`${AR(s)}?${Gl(p).slice(1)}${_}`}function AR({config:s}){return s.emulator?Am(s,TR):`https://${s.authDomain}/${ER}`}const Bd="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aE,this._completeRedirectFn=Q2,this._overrideRedirectResult=G2}async _openPopup(t,i,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await mv(t,i,a,Wd(),l);return _R(t,c,Im())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await mv(t,i,a,Wd(),l);return C2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fR(t),a=new $2(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return X0()||H0()||wm()}}const wR=bR;var gv="@firebase/auth",pv="1.12.0";class RR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IR(s){Wa(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(s)},_=new Hw(a,l,c,y);return Ww(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new jr("auth-internal",t=>{const i=nr(t.getProvider("auth").getImmediate());return(a=>new RR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(gv,pv,CR(s)),Ys(gv,pv,"esm2020")}const NR=300,xR=w0("authIdTokenMaxAge")||NR;let yv=null;const DR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xR)return;const l=i?.token;yv!==l&&(yv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OR(s=D0()){const t=Tm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Zw(s,{popupRedirectResolver:wR,persistence:[L2,b2,aE]}),a=w0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=DR(c.toString());v2(i,d,()=>d(i.currentUser)),_2(i,p=>d(p))}}const l=A0("auth");return l&&t2(i,`http://${l}`),i}function MR(){return document.getElementsByTagName("head")?.[0]??document}Fw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ai("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",MR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IR("Browser");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,dE;(function(){var s;function t(R,b){function I(){}I.prototype=b.prototype,R.F=b.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(M,C,x){for(var A=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)A[Rt-2]=arguments[Rt];return b.prototype[C].apply(M,A)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)M[C]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(C=0;C<16;++C)M[C]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=R.g[0],I=R.g[1],C=R.g[2];let x=R.g[3],A;A=b+(x^I&(C^x))+M[0]+3614090360&4294967295,b=I+(A<<7&4294967295|A>>>25),A=x+(C^b&(I^C))+M[1]+3905402710&4294967295,x=b+(A<<12&4294967295|A>>>20),A=C+(I^x&(b^I))+M[2]+606105819&4294967295,C=x+(A<<17&4294967295|A>>>15),A=I+(b^C&(x^b))+M[3]+3250441966&4294967295,I=C+(A<<22&4294967295|A>>>10),A=b+(x^I&(C^x))+M[4]+4118548399&4294967295,b=I+(A<<7&4294967295|A>>>25),A=x+(C^b&(I^C))+M[5]+1200080426&4294967295,x=b+(A<<12&4294967295|A>>>20),A=C+(I^x&(b^I))+M[6]+2821735955&4294967295,C=x+(A<<17&4294967295|A>>>15),A=I+(b^C&(x^b))+M[7]+4249261313&4294967295,I=C+(A<<22&4294967295|A>>>10),A=b+(x^I&(C^x))+M[8]+1770035416&4294967295,b=I+(A<<7&4294967295|A>>>25),A=x+(C^b&(I^C))+M[9]+2336552879&4294967295,x=b+(A<<12&4294967295|A>>>20),A=C+(I^x&(b^I))+M[10]+4294925233&4294967295,C=x+(A<<17&4294967295|A>>>15),A=I+(b^C&(x^b))+M[11]+2304563134&4294967295,I=C+(A<<22&4294967295|A>>>10),A=b+(x^I&(C^x))+M[12]+1804603682&4294967295,b=I+(A<<7&4294967295|A>>>25),A=x+(C^b&(I^C))+M[13]+4254626195&4294967295,x=b+(A<<12&4294967295|A>>>20),A=C+(I^x&(b^I))+M[14]+2792965006&4294967295,C=x+(A<<17&4294967295|A>>>15),A=I+(b^C&(x^b))+M[15]+1236535329&4294967295,I=C+(A<<22&4294967295|A>>>10),A=b+(C^x&(I^C))+M[1]+4129170786&4294967295,b=I+(A<<5&4294967295|A>>>27),A=x+(I^C&(b^I))+M[6]+3225465664&4294967295,x=b+(A<<9&4294967295|A>>>23),A=C+(b^I&(x^b))+M[11]+643717713&4294967295,C=x+(A<<14&4294967295|A>>>18),A=I+(x^b&(C^x))+M[0]+3921069994&4294967295,I=C+(A<<20&4294967295|A>>>12),A=b+(C^x&(I^C))+M[5]+3593408605&4294967295,b=I+(A<<5&4294967295|A>>>27),A=x+(I^C&(b^I))+M[10]+38016083&4294967295,x=b+(A<<9&4294967295|A>>>23),A=C+(b^I&(x^b))+M[15]+3634488961&4294967295,C=x+(A<<14&4294967295|A>>>18),A=I+(x^b&(C^x))+M[4]+3889429448&4294967295,I=C+(A<<20&4294967295|A>>>12),A=b+(C^x&(I^C))+M[9]+568446438&4294967295,b=I+(A<<5&4294967295|A>>>27),A=x+(I^C&(b^I))+M[14]+3275163606&4294967295,x=b+(A<<9&4294967295|A>>>23),A=C+(b^I&(x^b))+M[3]+4107603335&4294967295,C=x+(A<<14&4294967295|A>>>18),A=I+(x^b&(C^x))+M[8]+1163531501&4294967295,I=C+(A<<20&4294967295|A>>>12),A=b+(C^x&(I^C))+M[13]+2850285829&4294967295,b=I+(A<<5&4294967295|A>>>27),A=x+(I^C&(b^I))+M[2]+4243563512&4294967295,x=b+(A<<9&4294967295|A>>>23),A=C+(b^I&(x^b))+M[7]+1735328473&4294967295,C=x+(A<<14&4294967295|A>>>18),A=I+(x^b&(C^x))+M[12]+2368359562&4294967295,I=C+(A<<20&4294967295|A>>>12),A=b+(I^C^x)+M[5]+4294588738&4294967295,b=I+(A<<4&4294967295|A>>>28),A=x+(b^I^C)+M[8]+2272392833&4294967295,x=b+(A<<11&4294967295|A>>>21),A=C+(x^b^I)+M[11]+1839030562&4294967295,C=x+(A<<16&4294967295|A>>>16),A=I+(C^x^b)+M[14]+4259657740&4294967295,I=C+(A<<23&4294967295|A>>>9),A=b+(I^C^x)+M[1]+2763975236&4294967295,b=I+(A<<4&4294967295|A>>>28),A=x+(b^I^C)+M[4]+1272893353&4294967295,x=b+(A<<11&4294967295|A>>>21),A=C+(x^b^I)+M[7]+4139469664&4294967295,C=x+(A<<16&4294967295|A>>>16),A=I+(C^x^b)+M[10]+3200236656&4294967295,I=C+(A<<23&4294967295|A>>>9),A=b+(I^C^x)+M[13]+681279174&4294967295,b=I+(A<<4&4294967295|A>>>28),A=x+(b^I^C)+M[0]+3936430074&4294967295,x=b+(A<<11&4294967295|A>>>21),A=C+(x^b^I)+M[3]+3572445317&4294967295,C=x+(A<<16&4294967295|A>>>16),A=I+(C^x^b)+M[6]+76029189&4294967295,I=C+(A<<23&4294967295|A>>>9),A=b+(I^C^x)+M[9]+3654602809&4294967295,b=I+(A<<4&4294967295|A>>>28),A=x+(b^I^C)+M[12]+3873151461&4294967295,x=b+(A<<11&4294967295|A>>>21),A=C+(x^b^I)+M[15]+530742520&4294967295,C=x+(A<<16&4294967295|A>>>16),A=I+(C^x^b)+M[2]+3299628645&4294967295,I=C+(A<<23&4294967295|A>>>9),A=b+(C^(I|~x))+M[0]+4096336452&4294967295,b=I+(A<<6&4294967295|A>>>26),A=x+(I^(b|~C))+M[7]+1126891415&4294967295,x=b+(A<<10&4294967295|A>>>22),A=C+(b^(x|~I))+M[14]+2878612391&4294967295,C=x+(A<<15&4294967295|A>>>17),A=I+(x^(C|~b))+M[5]+4237533241&4294967295,I=C+(A<<21&4294967295|A>>>11),A=b+(C^(I|~x))+M[12]+1700485571&4294967295,b=I+(A<<6&4294967295|A>>>26),A=x+(I^(b|~C))+M[3]+2399980690&4294967295,x=b+(A<<10&4294967295|A>>>22),A=C+(b^(x|~I))+M[10]+4293915773&4294967295,C=x+(A<<15&4294967295|A>>>17),A=I+(x^(C|~b))+M[1]+2240044497&4294967295,I=C+(A<<21&4294967295|A>>>11),A=b+(C^(I|~x))+M[8]+1873313359&4294967295,b=I+(A<<6&4294967295|A>>>26),A=x+(I^(b|~C))+M[15]+4264355552&4294967295,x=b+(A<<10&4294967295|A>>>22),A=C+(b^(x|~I))+M[6]+2734768916&4294967295,C=x+(A<<15&4294967295|A>>>17),A=I+(x^(C|~b))+M[13]+1309151649&4294967295,I=C+(A<<21&4294967295|A>>>11),A=b+(C^(I|~x))+M[4]+4149444226&4294967295,b=I+(A<<6&4294967295|A>>>26),A=x+(I^(b|~C))+M[11]+3174756917&4294967295,x=b+(A<<10&4294967295|A>>>22),A=C+(b^(x|~I))+M[2]+718787259&4294967295,C=x+(A<<15&4294967295|A>>>17),A=I+(x^(C|~b))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+x&4294967295}a.prototype.v=function(R,b){b===void 0&&(b=R.length);const I=b-this.blockSize,M=this.C;let C=this.h,x=0;for(;x<b;){if(C==0)for(;x<=I;)l(this,R,x),x+=this.blockSize;if(typeof R=="string"){for(;x<b;)if(M[C++]=R.charCodeAt(x++),C==this.blockSize){l(this,M),C=0;break}}else for(;x<b;)if(M[C++]=R[x++],C==this.blockSize){l(this,M),C=0;break}}this.h=C,this.o+=b},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)R[b++]=this.g[I]>>>M&255;return R};function c(R,b){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=b(R)}function d(R,b){this.h=b;const I=[];let M=!0;for(let C=R.length-1;C>=0;C--){const x=R[C]|0;M&&x==b||(I[C]=x,M=!1)}this.g=I}var p={};function y(R){return-128<=R&&R<128?c(R,function(b){return new d([b|0],b<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return tt(_(-R));const b=[];let I=1;for(let M=0;R>=I;M++)b[M]=R/I|0,I*=4294967296;return new d(b,0)}function S(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return tt(S(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=w;for(let x=0;x<R.length;x+=8){var C=Math.min(8,R.length-x);const A=parseInt(R.substring(x,x+C),b);C<8?(C=_(Math.pow(b,C)),M=M.j(C).add(_(A))):(M=M.j(I),M=M.add(_(A)))}return M}var w=y(0),k=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-tt(this).m();let R=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);R+=(M>=0?M:4294967296+M)*b,b*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(J(this))return"0";if(W(this))return"-"+tt(this).toString(R);const b=_(Math.pow(R,6));var I=this;let M="";for(;;){const C=mt(I,b).g;I=ot(I,C.j(b));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=C,J(I))return x+M;for(;x.length<6;)x="0"+x;M=x+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function J(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function W(R){return R.h==-1}s.l=function(R){return R=ot(this,R),W(R)?-1:J(R)?0:1};function tt(R){const b=R.g.length,I=[];for(let M=0;M<b;M++)I[M]=~R.g[M];return new d(I,~R.h).add(k)}s.abs=function(){return W(this)?tt(this):this},s.add=function(R){const b=Math.max(this.g.length,R.g.length),I=[];let M=0;for(let C=0;C<=b;C++){let x=M+(this.i(C)&65535)+(R.i(C)&65535),A=(x>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);M=A>>>16,x&=65535,A&=65535,I[C]=A<<16|x}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ot(R,b){return R.add(tt(b))}s.j=function(R){if(J(this)||J(R))return w;if(W(this))return W(R)?tt(this).j(tt(R)):tt(tt(this).j(R));if(W(R))return tt(this.j(tt(R)));if(this.l(G)<0&&R.l(G)<0)return _(this.m()*R.m());const b=this.g.length+R.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let C=0;C<R.g.length;C++){const x=this.i(M)>>>16,A=this.i(M)&65535,Rt=R.i(C)>>>16,ce=R.i(C)&65535;I[2*M+2*C]+=A*ce,yt(I,2*M+2*C),I[2*M+2*C+1]+=x*ce,yt(I,2*M+2*C+1),I[2*M+2*C+1]+=A*Rt,yt(I,2*M+2*C+1),I[2*M+2*C+2]+=x*Rt,yt(I,2*M+2*C+2)}for(R=0;R<b;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=b;R<2*b;R++)I[R]=0;return new d(I,0)};function yt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function dt(R,b){this.g=R,this.h=b}function mt(R,b){if(J(b))throw Error("division by zero");if(J(R))return new dt(w,w);if(W(R))return b=mt(tt(R),b),new dt(tt(b.g),tt(b.h));if(W(b))return b=mt(R,tt(b)),new dt(tt(b.g),b.h);if(R.g.length>30){if(W(R)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var I=k,M=b;M.l(R)<=0;)I=zt(I),M=zt(M);var C=xt(I,1),x=xt(M,1);for(M=xt(M,2),I=xt(I,2);!J(M);){var A=x.add(M);A.l(R)<=0&&(C=C.add(I),x=A),M=xt(M,1),I=xt(I,1)}return b=ot(R,C.j(b)),new dt(C,b)}for(C=w;R.l(b)>=0;){for(I=Math.max(1,Math.floor(R.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),x=_(I),A=x.j(b);W(A)||A.l(R)>0;)I-=M,x=_(I),A=x.j(b);J(x)&&(x=k),C=C.add(x),R=ot(R,A)}return new dt(C,R)}s.B=function(R){return mt(this,R).h},s.and=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&R.i(M);return new d(I,this.h&R.h)},s.or=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|R.i(M);return new d(I,this.h|R.h)},s.xor=function(R){const b=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^R.i(M);return new d(I,this.h^R.h)};function zt(R){const b=R.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new d(I,R.h)}function xt(R,b){const I=b>>5;b%=32;const M=R.g.length-I,C=[];for(let x=0;x<M;x++)C[x]=b>0?R.i(x+I)>>>b|R.i(x+I+1)<<32-b:R.i(x+I);return new d(C,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,dE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Qs=d}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mE,bl,gE,jc,nm,pE,yE,_E;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var Z=Array(arguments.length-2),St=2;St<arguments.length;St++)Z[St-2]=arguments[St];return m.prototype[U].apply(T,Z)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let Z=0;Z<B;Z++)u[v+Z]=U[Z]}else u.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,xt=!1,R=new yt,b=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(I)}};function I(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){tt(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function Rt(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Rt,C),Rt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Rt.Z.h.call(this)},Rt.prototype.h=function(){Rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Kt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=bt(u,m,T,U);return Z>-1?(m=u[Z],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,U);return null}return v=yo(v),u&&u[ce]?u.J(m,v,p(T)?!!T.capture:!1,U):ir(u,m,v,!1,T,U)}function ir(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const Z=p(U)?!!U.capture:!!U;let St=sr(u);if(St||(u[Ut]=St=new st(u)),v=St.add(m,v,T,Z,B),v.proxy)return v;if(T=Qr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)x||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qr(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function Xr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xr(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=yo(v),u&&u[ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,U)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sr(m))?(_t(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ct(u)}}}function ti(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new Rt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function sr(u){return u=u[Ut],u instanceof st?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function _e(){M.call(this),this.i=new st(this),this.M=this,this.G=null}w(_e,M),_e.prototype[ce]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Xr(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var U=m;m=new C(T,u),nt(m,U)}U=!0;let B,Z;if(v)for(Z=v.length-1;Z>=0;Z--)B=m.g=v[Z],U=as(B,T,!0,m)&&U;if(B=m.g=u,U=as(B,T,!0,m)&&U,U=as(B,T,!1,m)&&U,v)for(Z=0;Z<v.length;Z++)B=m.g=v[Z],U=as(B,T,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function as(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==v){const St=Z.listener,me=Z.ha||Z.src;Z.fa&&_t(u.i,Z),U=St.call(me,T)!==!1&&U}}return U&&!T.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){M.call(this),this.h=u,this.g={}}w(rr,M);var _o=[];function vo(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),vo(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Dh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){C.call(this,"d")}w(je,C);function An(){C.call(this,"c")}w(An,C);var de={},su=null;function Jr(){return su=su||new _e}de.Ia="serverreachability";function ru(u){C.call(this,de.Ia,u)}w(ru,C);function ei(u){const m=Jr();xe(m,new ru(m))}de.STAT_EVENT="statevent";function ar(u,m){C.call(this,de.STAT_EVENT,u),this.stat=m}w(ar,C);function ve(u){const m=Jr();xe(m,new ar(m,u))}de.Ja="timingevent";function ni(u,m){C.call(this,de.Ja,u),this.size=m}w(ni,C);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var Z="",St=B.split("&");for(let Ht=0;Ht<St.length;Ht++){var me=St[Ht].split("=");if(me.length>1){const ae=me[0];me=me[1];const Cn=ae.split("_");Z=Cn.length>=2&&Cn[1]=="type"?Z+(ae+"="+me+"&"):Z+(ae+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+Z})}function au(u,m,v,T,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+Z})}function si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return os(B)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function ur(){}w(ur,nu),ur.prototype.g=function(){return new XMLHttpRequest},To=new ur;function Di(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Ee={},Ve={};function ri(u,m,v){u.M=1,u.A=cr(Se(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ai(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_o[0]=U.toString()),U=_o);for(let B=0;B<U.length;B++){const Z=re(v,U[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Fn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||me==7||(me==8||Ht<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var B=T;break e}}B=null}if(u=B)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ve(12),dn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=uu(this,v),ae==Ve){St==4&&(this.m=4,ve(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==Ee){this.m=4,ve(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,ae,null),li(this,ae);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(Z),Z.P=!0,ve(11))}}else si(this.i,this.l,v,null),li(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?_u(this.j,this):(this.o=!1,ai(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),dn(this),bn(this)}}}catch{}};function Vh(u){if(!lu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(u){u.T=Date.now()+u.H,Wr(u,u.H)}function Wr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ei(),ve(17)),dn(this),this.m=2,bn(this)):Wr(this,this.T-u)};function bn(u){u.j.I==0||u.K||_u(u.j,u)}function dn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),gs(v);else break t;yr(v),ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!A(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const ae=Ht[0];if(!(ae<=v.K))if(v.K=ae,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=Ht[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Gn=Ht[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const _r=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var B=T.h;B.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(T.G){const la=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Yt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var Z=u;if(T.na=Tu(T,T.L?T.ba:null,T.W),Z.L){wo(T.h,Z);var St=Z,me=T.O;me&&(St.H=me),St.D&&(oi(St),ai(St)),T.g=Z}else pu(T);v.i.length>0&&gi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||pi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?pi(v,7):Vo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ei(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,Co(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ls(this,m[4]),this.h=hi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,ea,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?Io:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,fu)),u.join("")},mn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ls(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const St=U[Z++];St=="."?T&&Z==U.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==U.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new mn(u)}function ke(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof cs?(u.i=m,ia(u.i,u.l)):(v||(m=hr(m,us)),u.i=new cs(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function cr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,hu=/[#\?:]/g,Io=/[#\?]/g,us=/[#\?@]/g,fu=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=cs.prototype,s.add=function(u,m){rn(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){rn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return rn(u),m=hs(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function xo(u,m){rn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=hs(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Di(v);v=xo(this,v);for(let B=0;B<v.length;B++){let Z=U;v[B]!==""&&(Z+="="+Di(v[B])),u.push(Z)}}return this.i=u.join("&")};function mu(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(du(this,T),na(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=S(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Do(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function fs(){this.g=new eu}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(fi,nu),fi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fr,_e),s=fr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Hn(this),this.readyState==3&&sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},s.Na=function(u){this.g&&(this.response=u,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return jt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function dr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Yt(u,m,v))}function Jt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,_e);var di=/^https?$/i,Oo=["POST","PUT"];s=Jt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=k(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){mr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of v)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){mr(this,B)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Oi(u)}function Mo(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},s.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let Z=String(u.D).match(cu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!di.test(Z?Z.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(A(u[T]))continue;var v=ou(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Kt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Tu(this,null,this.W),gi(this)};function Vo(u){if(ra(u),u.I==3){var m=u.V++,v=Se(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),pr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=cr(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Eu(u)}function gs(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function ra(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||b(),xt||(zt(),xt=!0),R.add(m,u),u.D=0}}function aa(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,U,m),v=Se(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),pr(this,v),B&&(this.R?m="headers="+Di(Rn(B))+"&"+m:this.u&&dr(v,this.u,B)),bo(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),U.U=!0,ri(U,v,null)):ri(U,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||Ao(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Yt(T,"SID",u.M),Yt(T,"RID",v),Yt(T,"AID",u.K),pr(u,T),u.u&&u.o&&dr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,v),ri(v,T,m)}function pr(u,m){u.H&&jt(u.H,function(v,T){Yt(m,T,v)}),u.l&&jt({},function(v,T){Yt(m,T,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const me=["count="+v];St==-1?v>0?(St=U[0].g,me.push("ofs="+St)):St=0:me.push("ofs="+St);let Ht=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const Cn=U[ae].map;if(B-=St,B<0)St=Math.max(0,U[ae].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var Z=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Gn]of Z){let Kn=Gn;p(Gn)&&(Kn=os(Gn)),me.push(B+yi+"="+encodeURIComponent(Kn))}}catch(yi){throw me.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(Cn)}}if(Ht){Z=me.join("&");break t}}Z=void 0}return u=u.i.splice(0,v),m.G=u,Z}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||b(),xt||(zt(),xt=!0),R.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),gs(this),yu(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),pr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=cr(Se(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,gs(this),yr(this),ve(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){oa(u),Lo(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Jr(),xe(T,new ni(T,v)),gi(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),cr(T),U?qn(T.toString(),v):Do(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var T=v instanceof mn?Se(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),U&&ls(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Yt(T,v,m),Yt(T,"VER",u.ka),pr(u,T),T}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new fi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ps(){}ps.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=os(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.Z.N.call(this)};function bu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,je);function wu(){An.call(this),this.status=1}w(wu,An);function Vi(u){this.g=u}w(Vi,Au),Vi.prototype.ra=function(){xe(this.g,"a")},Vi.prototype.qa=function(u){xe(this.g,new bu(u))},Vi.prototype.pa=function(u){xe(this.g,new wu)},Vi.prototype.oa=function(){xe(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_E=function(){return new ps},yE=function(){return Jr()},pE=de,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,jc=lr,Eo.COMPLETE="complete",gE=Eo,iu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,bl=iu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,mE=Jt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let co="12.8.0";function VR(s){co=s}const qr=new vm("@firebase/firestore");function Ba(){return qr.logLevel}function it(s,...t){if(qr.logLevel<=Mt.DEBUG){const i=t.map(xm);qr.debug(`Firestore (${co}): ${s}`,...i)}}function ns(s,...t){if(qr.logLevel<=Mt.ERROR){const i=t.map(xm);qr.error(`Firestore (${co}): ${s}`,...i)}}function to(s,...t){if(qr.logLevel<=Mt.WARN){const i=t.map(xm);qr.warn(`Firestore (${co}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,vE(s,a,i)}function vE(s,t,i){let a=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||vE(t,l,a)}function Tt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class EE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class LR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class UR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new EE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class PR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=BR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function im(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return qd(l)===qd(c)?Vt(l,c):qd(l)?1:-1}return Vt(s.length,t.length)}const qR=55296,HR=57343;function qd(s){const t=s.charCodeAt(0);return t>=qR&&t<=HR}function eo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Ev="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class le extends Si{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Si{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return FR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new Ye([Ev])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(le.fromString(t))}static fromName(t){return new ht(le.fromString(t).popFirst(5))}static empty(){return new ht(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new le(t.slice()))}}function GR(s,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function KR(s,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Tv(s){if(!ht.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function TE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Om(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Xa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(s);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Xl(s,t){if(!TE(s))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const Sv=-62135596800,Av=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Av);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Sv)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ie("string",se._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new se(0,0))}static max(){return new vt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function YR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Xs(l,ht.empty(),t)}function QR(s){return new Xs(s.readTime,s.key,Ul)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(vt.min(),ht.empty(),Ul)}static max(){return new Xs(vt.max(),ht.empty(),Ul)}}function XR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==$R)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ZR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Mm=-1;function _h(s){return s==null}function th(s){return s===0&&1/s==-1/0}function WR(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const SE="";function tC(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=bv(t)),t=eC(s.get(i),t);return bv(t)}function eC(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case SE:i+="";break;default:i+=c}}return i}function bv(s){return s+SE+""}function wv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Fr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function AE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ke(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Jn([])}unionWith(t){let i=new Me(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=nC.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const wE="server_timestamp",RE="__type__",CE="__previous_value__",IE="__local_write_time__";function Vm(s){return(s?.mapValue?.fields||{})[RE]?.stringValue===wE}function vh(s){const t=s.mapValue.fields[CE];return Vm(t)?vh(t):t}function Pl(s){const t=$s(s.mapValue.fields[IE].timestampValue);return new se(t.seconds,t.nanos)}class iC{constructor(t,i,a,l,c,d,p,y,_,S,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const eh="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}function sC(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(s.options.projectId,t)}const NE="__type__",rC="__max__",Oc={mapValue:{}},xE="__vector__",nh="value";function Zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vm(s)?4:oC(s)?9007199254740991:aC(s)?10:11:pt(28295,{value:s})}function Ni(s,t){if(s===t)return!0;const i=Zs(s);if(i!==Zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Pl(s).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Js(l.bytesValue).isEqual(Js(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),p=ye(c.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return eo(s.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(wv(d)!==wv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ni(d[y],p[y])))return!1;return!0})(s,t);default:return pt(52216,{left:s})}}function jl(s,t){return(s.values||[]).find((i=>Ni(i,t)))!==void 0}function no(s,t){if(s===t)return 0;const i=Zs(s),a=Zs(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Cv(s.timestampValue,t.timestampValue);case 4:return Cv(Pl(s),Pl(t));case 5:return im(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Js(c),y=Js(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Vt(p[_],y[_]);if(S!==0)return S}return Vt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ye(c.latitude),ye(d.latitude));return p!==0?p:Vt(ye(c.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Iv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[nh]?.arrayValue,S=y[nh]?.arrayValue,w=Vt(_?.values?.length||0,S?.values?.length||0);return w!==0?w:Iv(_,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let w=0;w<y.length&&w<S.length;++w){const k=im(y[w],S[w]);if(k!==0)return k;const G=no(p[y[w]],_[S[w]]);if(G!==0)return G}return Vt(y.length,S.length)})(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function Cv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=$s(s),a=$s(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function Iv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function io(s){return sm(s)}function sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Js(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=sm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(s.mapValue):pt(61005,{value:s})}function Bc(s){switch(Zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(s);return t?16+Bc(t):16;case 5:return 2*s.stringValue.length;case 6:return Js(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Bc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Fr(a.fields,((c,d)=>{l+=c.length+Bc(d)})),l})(s.mapValue);default:throw pt(13486,{value:s})}}function rm(s){return!!s&&"integerValue"in s}function km(s){return!!s&&"arrayValue"in s}function Nv(s){return!!s&&"nullValue"in s}function xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function aC(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===xE}function xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Fr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=xl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=xl(s.arrayValue.values[i]);return t}return{...s}}function oC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===rC}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=xl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Ln(xl(this.value))}}function DE(s){const t=[];return Fr(s.fields,((i,a)=>{const l=new Ye([i]);if(qc(a)){const c=DE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Jn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),Ln.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),Ln.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),Ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function Dv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ov(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ni(s.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function lC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class OE{}class Oe extends OE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new cC(t,i,a):i==="array-contains"?new dC(t,a):i==="in"?new mC(t,a):i==="not-in"?new gC(t,a):i==="array-contains-any"?new pC(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new hC(t,a):new fC(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends OE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new xi(t,i)}matches(t){return ME(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(s){return s.op==="and"}function VE(s){return uC(s)&&ME(s)}function uC(s){for(const t of s.filters)if(t instanceof xi)return!1;return!0}function am(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+io(s.value);if(VE(s))return s.filters.map((t=>am(t))).join(",");{const t=s.filters.map((i=>am(i))).join(",");return`${s.op}(${t})`}}function kE(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(s,t):s instanceof xi?(function(a,l){return l instanceof xi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&kE(d,l.filters[p])),!0):!1})(s,t):void pt(19439)}function LE(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(s):s instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(s):"Filter"}class cC extends Oe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class hC extends Oe{constructor(t,i){super(t,"in",i),this.keys=UE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class fC extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=UE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UE(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class dC extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&jl(i.arrayValue,this.value)}}class mC extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class gC extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class pC extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class yC{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Mv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new yC(s,t,i,a,l,c,d)}function Lm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function Um(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!lC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!kE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Ov(s.startAt,t.startAt)&&Ov(s.endAt,t.endAt)}function om(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _C(s,t,i,a,l,c,d,p){return new Eh(s,t,i,a,l,c,d,p)}function Pm(s){return new Eh(s)}function Vv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function vC(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function EC(s){return s.collectionGroup!==null}function Dl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ye.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new sh(Ye.keyField(),a))}return t.Ie}function Ri(s){const t=Tt(s);return t.Ee||(t.Ee=TC(t,Dl(s))),t.Ee}function TC(s,t){if(s.limitType==="F")return Mv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sh(l.field,c)}));const i=s.endAt?new ih(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ih(s.startAt.position,s.startAt.inclusive):null;return Mv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function lm(s,t,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Th(s,t){return Um(Ri(s),Ri(t))&&s.limitType===t.limitType}function PE(s){return`${Lm(Ri(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(Ri(s))}; limitType=${s.limitType})`}function Sh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=Dv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,p,y){const _=Dv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(s,t)}function SC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function zE(s){return(t,i)=>{let a=!1;for(const l of Dl(s)){const c=AC(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function AC(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?no(y,_):pt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const bC=new ue(ht.comparator);function is(){return bC}const jE=new ue(ht.comparator);function wl(...s){let t=jE;for(const i of s)t=t.insert(i.key,i);return t}function BE(s){let t=jE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Lr(){return Ol()}function qE(){return Ol()}function Ol(){return new Gr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const wC=new ue(ht.comparator),RC=new Me(ht.comparator);function kt(...s){let t=RC;for(const i of s)t=t.add(i);return t}const CC=new Me(Vt);function IC(){return CC}function zm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function HE(s){return{integerValue:""+s}}function NC(s,t){return WR(t)?HE(t):zm(s,t)}class Ah{constructor(){this._=void 0}}function xC(s,t,i){return s instanceof rh?(function(l,c){const d={fields:{[RE]:{stringValue:wE},[IE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=vh(c)),c&&(d.fields[CE]=c),{mapValue:d}})(i,t):s instanceof Bl?GE(s,t):s instanceof ql?KE(s,t):(function(l,c){const d=FE(l,c),p=kv(d)+kv(l.Ae);return rm(d)&&rm(l.Ae)?HE(p):zm(l.serializer,p)})(s,t)}function DC(s,t,i){return s instanceof Bl?GE(s,t):s instanceof ql?KE(s,t):i}function FE(s,t){return s instanceof ah?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class rh extends Ah{}class Bl extends Ah{constructor(t){super(),this.elements=t}}function GE(s,t){const i=YE(t);for(const a of s.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Ah{constructor(t){super(),this.elements=t}}function KE(s,t){let i=YE(t);for(const a of s.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class ah extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function kv(s){return ye(s.integerValue||s.doubleValue)}function YE(s){return km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function OC(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Bl&&l instanceof Bl||a instanceof ql&&l instanceof ql?eo(a.elements,l.elements,Ni):a instanceof ah&&l instanceof ah?Ni(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(s.transform,t.transform)}class MC{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function QE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new $E(s.key,Zi.none()):new $l(s.key,s.data,Zi.none());{const i=s.data,a=Ln.empty();let l=new Me(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Kr(s.key,a,new Jn(l.toArray()),Zi.none())}}function VC(s,t,i){s instanceof $l?(function(l,c,d){const p=l.value.clone(),y=Uv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Kr?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Uv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(XE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,a){return s instanceof $l?(function(c,d,p,y){if(!Hc(c.precondition,d))return p;const _=c.value.clone(),S=Pv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Kr?(function(c,d,p,y){if(!Hc(c.precondition,d))return p;const _=Pv(c.fieldTransforms,y,d),S=d.data;return S.setAll(XE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,p){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function kC(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,c))}return i||null}function Lv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>OC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class $l extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Kr extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Uv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,DC(d,p,i[l]))}return a}function Pv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,xC(c,d,t))}return a}class $E extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LC extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&VC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=qE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=QE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return wC})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jm(t,i,a,l)}}class PC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zC{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Pt;function jC(s){switch(s){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function JE(s){if(s===void 0)return ns("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:s})}}(Pt=Ce||(Ce={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function BC(){return new TextEncoder}const qC=new Qs([4294967295,4294967295],0);function zv(s){const t=BC().encode(s),i=new dE;return i.update(t),new Uint8Array(i.digest())}function jv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,a],0),new Qs([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qs.fromNumber(a)));return l.compare(qC)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=zv(t),[a,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=zv(t),[a,l]=jv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new wh(vt.min(),l,new ue(Vt),is(),kt())}}class Jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Jl(a,i,kt(),kt(),kt())}}class Fc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=qv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HC{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.He=Mc(),this.Je=Mc(),this.Ze=new ue(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Js(a).toUint8Array()}catch(y){if(y instanceof bE)return to("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Bm(d,l,c)}catch(y){return to(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&om(p.target)){const y=new ht(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=kt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ze,this.je,a);return this.je=is(),this.He=Mc(),this.Je=Mc(),this.Ze=new ue(Vt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Bv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new ue(ht.comparator)}function qv(){return new ue(ht.comparator)}const FC={asc:"ASCENDING",desc:"DESCENDING"},GC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KC={and:"AND",or:"OR"};class YC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(s,t){return s.useProto3Json||_h(t)?t:{value:t}}function oh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function QC(s,t){return oh(s,t.toTimestamp())}function Ci(s){return Gt(!!s,49232),vt.fromTimestamp((function(i){const a=$s(i);return new se(a.seconds,a.nanos)})(s))}function qm(s,t){return cm(s,t).canonicalString()}function cm(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function eT(s){const t=le.fromString(s);return Gt(aT(t),10190,{key:t.toString()}),t}function hm(s,t){return qm(s.databaseId,t.path)}function Hd(s,t){const i=eT(t);if(i.get(1)!==s.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(iT(i))}function nT(s,t){return qm(s.databaseId,t)}function XC(s){const t=eT(s);return t.length===4?le.emptyPath():iT(t)}function fm(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function iT(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Hv(s,t,i){return{name:hm(s,t),fields:i.value.mapValue.fields}}function $C(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Gt(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:JE(_.code);return new lt(S,_.message||"")})(d);i=new WE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(s,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):vt.min(),p=new Ln({mapValue:{fields:a.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Fc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(s,a.document),c=a.readTime?Ci(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Fc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new zC(l,c),p=a.targetId;i=new ZE(p,d)}}return i}function JC(s,t){let i;if(t instanceof $l)i={update:Hv(s,t.key,t.value)};else if(t instanceof $E)i={delete:hm(s,t.key)};else if(t instanceof Kr)i={update:Hv(s,t.key,t.data),updateMask:aI(t.fieldMask)};else{if(!(t instanceof LC))return pt(16599,{dt:t.type});i={verify:hm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:QC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(s,t.precondition)),i}function ZC(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(vt.min())&&(d=Ci(c)),new MC(d,l.transformResults||[])})(i,t)))):[]}function WC(s,t){return{documents:[nT(s,t.path)]}}function tI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nT(s,l);const c=(function(_){if(_.length!==0)return rT(xi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(k){return{field:Ha(k.field),direction:iI(k.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function eI(s){let t=XC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const k=sT(w);return k instanceof xi&&VE(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((k=>(function(J){return new sh(Fa(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(k)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let k;return k=typeof w=="object"?w.value:w,_h(k)?null:k})(i.limit));let y=null;i.startAt&&(y=(function(w){const k=!!w.before,G=w.values||[];return new ih(G,k)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const k=!w.before,G=w.values||[];return new ih(G,k)})(i.endAt)),_C(t,l,d,c,p,"F",y,_)}function nI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((a=>sT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(s):pt(30097,{filter:s})}function iI(s){return FC[s]}function sI(s){return GC[s]}function rI(s){return KC[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Ye.fromServerFormat(s.fieldPath)}function rT(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(xv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(Nv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(Nv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:sI(i.op),value:i.value}}})(s):s instanceof xi?(function(i){const a=i.getFilters().map((l=>rT(l)));return a.length===1?a[0]:{compositeFilter:{op:rI(i.op),filters:a}}})(s):pt(54877,{filter:s})}function aI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function aT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function oT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Fs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class oI{constructor(t){this.yt=t}}function lI(s){const t=eI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(t,t.limit,"L"):t}class uI{constructor(){this.Sn=new cI}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class cI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(le.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(lT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}const Gv="LruGarbageCollector",hI=1048576;function Kv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class fI{constructor(t){this.Pr=t,this.buffer=new Me(Kv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(Gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?it(Gv,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Ar(3e5)}))}}class mI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(yh.ce);const a=new fI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Ba()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function gI(s,t){return new mI(s,t)}class pI{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class _I{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,Jn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Lr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Lr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=is();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Kr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ml(S.mutation,_,S.mutation.getFieldMask(),se.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new yI(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new ue(((d,p)=>d-p)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||Jn.empty();S=p.applyToLocalView(_,S),a.set(y,S);const w=(l.get(p.batchId)||kt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,w=qE();S.forEach((k=>{if(!c.has(k)){const G=QE(i.get(k),a.get(k));G!==null&&w.set(k,G),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return vC(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):EC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Lr());let p=Ul,y=c;return d.next((_=>X.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((k=>{y=y.insert(S,k)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,kt()))).next((S=>({batchId:p,changes:BE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(w,k){return new Eh(k,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((w,k)=>{d=d.insert(w,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let p=wl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Ml(S.mutation,_,Jn.empty(),se.now()),Sh(i,_)&&(p=p.insert(y,_))})),p}))}}class vI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:lI(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),X.resolve()}}class EI{constructor(){this.overlays=new ue(ht.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Lr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Lr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Lr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Lr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new PC(i,a));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class TI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Hm{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ht(new le([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new le([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=kt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}class SI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UC(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Vt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ht(c),0);let p=new Me(Vt);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AI{constructor(t){this.ti=t,this.docs=(function(){return new ue(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=is();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=is();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||XR(QR(S),a)<=0||(l.has(S.key)||Sh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new bI(this)}getSize(t){return X.resolve(this.size)}}class bI extends pI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class wI{constructor(t){this.persistence=t,this.ri=new Gr((i=>Lm(i)),Um),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Hm,this.targetCount=0,this.oi=so._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new so(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class uT{constructor(t,i){this._i={},this.overlays={},this.ai=new yh(0),this.ui=!1,this.ui=!0,this.ci=new TI,this.referenceDelegate=t(this),this.li=new wI(this),this.indexManager=new uI,this.remoteDocumentCache=(function(l){return new AI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new oI(i),this.Pi=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new EI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new SI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new RI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class RI extends JR{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Ai=null}static Vi(t){return new Fm(t)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ht.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.fi=new Gr((a=>tC(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=gI(this,i)}static Vi(t,i){return new lh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Bc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class II{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return JA()?8:ZR(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new CI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ba()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ba()<=Mt.DEBUG&&it("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ba()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):X.resolve())}gs(t,i){if(Vv(i))return X.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(t,lm(i,null,"F")):this.Ds(t,_,i,y)}))))})))))}ps(t,i,a,l){return Vv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ba()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(t,d,i,YR(l,Ul)).next((p=>p)))}))}bs(t,i){let a=new Me(zE(t));return i.forEach(((l,c)=>{Sh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ba()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,Xs.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Km="LocalStore",NI=3e8;class xI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ue(Vt),this.Fs=new Gr((c=>Lm(c)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _I(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function DI(s,t,i,a){return new xI(s,t,i,a)}async function cT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=kt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function OI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const w=_.batch,k=w.keys();let G=X.resolve();return k.forEach((J=>{G=G.next((()=>S.getEntry(y,J))).next((W=>{const tt=_.docVersions.get(J);Gt(tt!==null,48541),W.version.compareTo(tt)<0&&(w.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),S.addEntry(W)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=kt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function MI(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,w)=>{const k=l.get(w);if(!k)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let G=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),l=l.insert(w,G),(function(W,tt,ot){return W.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=NI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(k,G,S)&&p.push(i.li.updateTargetData(c,G))}));let y=is(),_=kt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(VI(c,d,t.documentUpdates).next((S=>{y=S.Bs,_=S.Ls}))),!a.isEqual(vt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function VI(s,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=is();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(Km,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function kI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function LI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function dm(s,t,i){const a=Tt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;it(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Yv(s,t,i){const a=Tt(s);let l=vt.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const w=Tt(y),k=w.Fs.get(S);return k!==void 0?X.resolve(w.vs.get(k)):w.li.getTargetData(_,S)})(a,d,Ri(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:kt()))).next((p=>(UI(a,SC(t),p),{documents:p,ks:c})))))}function UI(s,t,i){let a=s.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Qv{constructor(){this.activeTargetIds=IC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PI{constructor(){this.vo=new Qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Qv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zI{Mo(t){}shutdown(){}}const Xv="ConnectivityMonitor";class $v{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(Xv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(Xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function mm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Fd="RestConnection",jI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=mm(),p=this.Qo(t,i.toUriEncodedString());it(Fd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(p),S=ao(_);return this.zo(t,p,y,a,S).then((w=>(it(Fd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw to(Fd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=jI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class qI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Tl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class $a extends BI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!$a.c_){const t=yE();Tl(t,pE.STAT_EVENT,(i=>{i.stat===nm.PROXY?it($e,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&it($e,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(t,i,a,l,c){const d=mm();return new Promise(((p,y)=>{const _=new mE;_.setWithCredentials(!0),_.listenOnce(gE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const w=_.getResponseJson();it($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case jc.TIMEOUT:it($e,`RPC '${t}' ${d} timed out`),y(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const k=_.getStatus();if(it($e,`RPC '${t}' ${d} failed with status:`,k,"response text:",_.getResponseText()),k>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const W=(function(ot){const yt=ot.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(yt)>=0?yt:$.UNKNOWN})(J.status);y(new lt(W,J.message))}else y(new lt($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new lt($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it($e,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);it($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=mm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");it($e,`Creating RPC '${t}' stream ${l}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let w=!1,k=!1;const G=new qI({Ho:J=>{k?it($e,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(w||(it($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),w=!0),it($e,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Jo:()=>S.close()});return Tl(S,bl.EventType.OPEN,(()=>{k||(it($e,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),Tl(S,bl.EventType.CLOSE,(()=>{k||(k=!0,it($e,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(S))})),Tl(S,bl.EventType.ERROR,(J=>{k||(k=!0,to($e,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),G.o_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),Tl(S,bl.EventType.MESSAGE,(J=>{if(!k){const W=J.data[0];Gt(!!W,16349);const tt=W,ot=tt?.error||tt[0]?.error;if(ot){it($e,`RPC '${t}' stream ${l} received error:`,ot);const yt=ot.status;let dt=(function(xt){const R=Ce[xt];if(R!==void 0)return JE(R)})(yt),mt=ot.message;dt===void 0&&(dt=$.INTERNAL,mt="Unknown error status: "+yt+" with message "+ot.message),k=!0,G.o_(new lt(dt,mt)),S.close()}else it($e,`RPC '${t}' stream ${l} received:`,W),G.__(W)}})),$a.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _E()}}function HI(s){return new $a(s)}function Gd(){return typeof document<"u"?document:null}function Rh(s){return new YC(s,!0)}$a.c_=!1;class fT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jv="PersistentStream";class dT{constructor(t,i,a,l,c,d,p,y){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FI extends dT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$C(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ci(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=om(y)?{documents:WC(c,y)}:{query:tI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=nI(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.K_(i)}}class GI extends dT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=ZC(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=fm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>JC(this.serializer,a)))};this.K_(i)}}class KI{}class YI extends KI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QI(s,t,i,a){return new YI(s,t,i,a)}class XI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class $I{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(it(Hr,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Zl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Va=new XI(a,l)}}async function Ch(s){if(Yr(s))for(const t of s.Ra)await t(!0)}async function Zl(s){for(const t of s.Ra)await t(!1)}function mT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):mo(i).O_()&&Qm(i,t))}function Ym(s,t){const i=Tt(s),a=mo(i);i.Ia.delete(t),a.O_()&&gT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Va.set("Unknown"))}function Qm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(s).Z_(t)}function gT(s,t){s.da.$e(t),mo(s).X_(t)}function Xm(s){s.da=new HC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Va.ua()}function $m(s){return Yr(s)&&!mo(s).x_()&&s.Ia.size>0}function Yr(s){return Tt(s).Ea.size===0}function pT(s){s.da=void 0}async function JI(s){s.Va.set("Online")}async function ZI(s){s.Ia.forEach(((t,i)=>{Qm(s,t)}))}async function WI(s,t){pT(s),$m(s)?(s.Va.ha(t),Xm(s)):s.Va.set("Unknown")}async function tN(s,t,i){if(s.Va.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){it(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(s,a)}else if(t instanceof Fc?s.da.Xe(t):t instanceof ZE?s.da.st(t):s.da.tt(t),!i.isEqual(vt.min()))try{const a=await hT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),gT(c,y);const w=new Fs(S.target,y,_,S.sequenceNumber);Qm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(Hr,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,t,i){if(!fo(t))throw t;s.Ea.add(1),await Zl(s),s.Va.set("Offline"),i||(i=()=>hT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Hr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function yT(s,t){return t().catch((i=>uh(s,i,t)))}async function Ih(s){const t=Tt(s),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;eN(t);)try{const l=await kI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,nN(t,l)}catch(l){await uh(t,l)}_T(t)&&vT(t)}function eN(s){return Yr(s)&&s.Ta.length<10}function nN(s,t){s.Ta.push(t);const i=Ws(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function _T(s){return Yr(s)&&!Ws(s).x_()&&s.Ta.length>0}function vT(s){Ws(s).start()}async function iN(s){Ws(s).ra()}async function sN(s){const t=Ws(s);for(const i of s.Ta)t.ea(i.mutations)}async function rN(s,t,i){const a=s.Ta.shift(),l=jm.from(a,t,i);await yT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ih(s)}async function aN(s,t){t&&Ws(s).Y_&&await(async function(a,l){if((function(d){return jC(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(s,t),_T(s)&&vT(s)}async function Zv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(Hr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await Zl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function oN(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await Zl(i),i.Va.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new FI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:JI.bind(null,s),Yo:ZI.bind(null,s),t_:WI.bind(null,s),J_:tN.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),$m(s)?Xm(s):s.Va.set("Unknown")):(await s.ma.stop(),pT(s))}))),s.ma}function Ws(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new GI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iN.bind(null,s),t_:aN.bind(null,s),ta:sN.bind(null,s),na:rN.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Jm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(ns("AsyncQueue",`${t}: ${s}`),fo(s))return new lt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Wv{constructor(){this.ga=new ue(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ro{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ro(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class lN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class uN{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=t0(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function t0(){return new Gr((s=>PE(s)),Th)}async function cN(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new lN,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Zm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function hN(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function fN(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Wm(i)}function dN(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Wm(s){s.Ca.forEach((t=>{t.next()}))}var gm,e0;(e0=gm||(gm={})).Ma="default",e0.Cache="cache";class mN{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ro(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class ET{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class gN{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=zE(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Wv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,w)=>{const k=l.get(S),G=Sh(this.query,w)?w:null,J=!!k&&this.mutatedKeys.has(k.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;k&&G?k.data.isEqual(G.data)?J!==W&&(a.track({type:3,doc:G}),tt=!0):this.su(k,G)||(a.track({type:2,doc:G}),tt=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!k&&G?(a.track({type:0,doc:G}),tt=!0):k&&!G&&(a.track({type:1,doc:k}),tt=!0,(y||_)&&(p=!0)),tt&&(G?(d=d.add(G),c=W?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(G,J){const W=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:tt})}};return W(G)-W(J)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new TT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new ET(a))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tg="SyncEngine";class pN{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class yN{constructor(t){this.key=t,this.hu=!1}}class _N{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>PE(p)),Th),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(ht.comparator),this.Au=new Map,this.Vu=new Hm,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vN(s,t,i=!0){const a=CT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ST(a,t,i,!0),l}async function EN(s,t){const i=CT(s);await ST(i,t,!0,!1)}async function ST(s,t,i,a){const l=await LI(s.localStore,Ri(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await TN(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&mT(s.remoteStore,l),p}async function TN(s,t,i,a,l){s.pu=(w,k,G)=>(async function(W,tt,ot,yt){let dt=tt.view.ru(ot);dt.Ss&&(dt=await Yv(W.localStore,tt.query,!1).then((({documents:R})=>tt.view.ru(R,dt))));const mt=yt&&yt.targetChanges.get(tt.targetId),zt=yt&&yt.targetMismatches.get(tt.targetId)!=null,xt=tt.view.applyChanges(dt,W.isPrimaryClient,mt,zt);return i0(W,tt.targetId,xt.au),xt.snapshot})(s,w,k,G);const c=await Yv(s.localStore,t,!0),d=new gN(t,c.ks),p=d.ru(c.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);i0(s,i,_.au);const S=new pN(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function SN(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Ym(a.remoteStore,l.targetId),pm(a,l.targetId)})).catch(ho)):(pm(a,l.targetId),await dm(a.localStore,l.targetId,!0))}async function AN(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function bN(s,t,i){const a=DN(s);try{const l=await(function(d,p){const y=Tt(d),_=se.now(),S=p.reduce(((G,J)=>G.add(J.key)),kt());let w,k;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=is(),W=kt();return y.xs.getEntries(G,S).next((tt=>{J=tt,J.forEach(((ot,yt)=>{yt.isValidDocument()||(W=W.add(ot))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,J))).next((tt=>{w=tt;const ot=[];for(const yt of p){const dt=kC(yt,w.get(yt.key).overlayedDocument);dt!=null&&ot.push(new Kr(yt.key,dt,DE(dt.value.mapValue),Zi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ot,p)})).next((tt=>{k=tt;const ot=tt.applyToLocalDocumentSet(w,W);return y.documentOverlayCache.saveOverlays(G,tt.batchId,ot)}))})).then((()=>({batchId:k.batchId,changes:BE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new ue(Vt)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Wl(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function AT(s,t){const i=Tt(s);try{const a=await MI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Wl(i,a,t)}catch(a){await ho(a)}}function n0(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Tt(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,w)=>{for(const k of w.ba)k.va(p)&&(_=!0)})),_&&Wm(y)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function wN(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=kt().add(c),y=new wh(vt.min(),new Map,new ue(Vt),d,p);await AT(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(t),eg(a)}else await dm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(ho)}async function RN(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await OI(i.localStore,t);wT(i,a,null),bT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,l)}catch(l){await ho(l)}}async function CN(s,t,i){const a=Tt(s);try{const l=await(function(d,p){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Gt(w!==null,37113),S=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);wT(a,t,i),bT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Wl(a,l)}catch(l){await ho(l)}}function bT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function wT(s,t,i){const a=Tt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function pm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||RT(s,a)}))}function RT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Ym(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),eg(s))}function i0(s,t,i){for(const a of i)a instanceof ET?(s.Vu.addReference(a.key,t),IN(s,a)):a instanceof TT?(it(tg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||RT(s,a.key)):pt(19791,{wu:a})}function IN(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(it(tg,"New document in limbo: "+i),s.Eu.add(a),eg(s))}function eg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(le.fromString(t)),a=s.fu.next();s.Au.set(a,new yN(i)),s.Ru=s.Ru.insert(i,a),mT(s.remoteStore,new Fs(Ri(Pm(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function Wl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Gm.Es(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(y,_){const S=Tt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(k=>X.forEach(k.Ts,(G=>S.persistence.referenceDelegate.addReference(w,k.targetId,G))).next((()=>X.forEach(k.Is,(G=>S.persistence.referenceDelegate.removeReference(w,k.targetId,G)))))))))}catch(w){if(!fo(w))throw w;it(Km,"Failed to update sequence numbers: "+w)}for(const w of _){const k=w.targetId;if(!w.fromCache){const G=S.vs.get(k),J=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(k,W)}}})(a.localStore,c))}async function NN(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){it(tg,"User change. New user:",t.toKey());const a=await cT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.Ns)}}function xN(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function CT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wN.bind(null,t),t.Pu.J_=fN.bind(null,t.eventManager),t.Pu.yu=dN.bind(null,t.eventManager),t}function DN(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return DI(this.persistence,new II,t.initialUser,this.serializer)}Cu(t){return new uT(Fm.Vi,this.serializer)}Du(t){return new PI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class ON extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new uT((a=>lh.Vi(a,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await oN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uN})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),a=HI(t.databaseInfo);return QI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new $I(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return $v.v()?new $v:new zI})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,S){const w=new _N(l,c,d,p,y,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);it(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Zl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class MN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class VN{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function s0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await kN(s);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Zv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Zv(t.remoteStore,l))),s._onlineComponents=t}async function kN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new ch)}}else it(tr,"Using default OfflineComponentProvider"),await Kd(s,new ON(void 0));return s._offlineComponents}async function IT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await s0(s,s._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await s0(s,new ym))),s._onlineComponents}function LN(s){return IT(s).then((t=>t.syncEngine))}async function r0(s){const t=await IT(s),i=t.eventManager;return i.onListen=vN.bind(null,t.syncEngine),i.onUnlisten=SN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=EN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AN.bind(null,t.syncEngine),i}function UN(s,t,i,a){const l=new MN(a),c=new mN(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>cN(await r0(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>hN(await r0(s),c)))}}function PN(s,t){const i=new Ur;return s.asyncQueue.enqueueAndForget((async()=>bN(await LN(s),t,i))),i.promise}function NT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const zN="ComponentProvider",a0=new Map;function jN(s,t,i,a,l){return new iC(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,NT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const xT="firestore.googleapis.com",o0=!0;class l0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=o0}else this.host=t.host,this.ssl=t.ssl??o0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hI)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ng{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kR;switch(a.type){case"firstParty":return new zR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=a0.get(i);a&&(it(zN,"Removing Datastore"),a0.delete(i),a.terminate())})(this),Promise.resolve()}}function BN(s,t,i,a={}){s=Xa(s,ng);const l=ao(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(R0(`https://${p}`),C0("Firestore",!0)),c.host!==xT&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!zr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Je.MOCK_USER;else{_=qA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Je(w)}s._authCredentials=new LR(new EE(_,S))}}class Nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Nh(this.firestore,t,this._query)}}class ze{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Xl(i,ze._jsonSchema))return new ze(t,a||null,new ht(le.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ie("string",ze._jsonSchemaVersion),referencePath:Ie("string")};class Hl extends Nh{constructor(t,i,a){super(t,i,Pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new ht(t))}withConverter(t){return new Hl(this.firestore,t,this._path)}}function Pa(s,t,...i){if(s=fn(s),arguments.length===1&&(t=Dm.newId()),GR("doc","path",t),s instanceof ng){const a=le.fromString(t,...i);return Tv(a),new ze(s,null,new ht(a))}{if(!(s instanceof ze||s instanceof Hl))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return Tv(a),new ze(s.firestore,s instanceof Hl?s.converter:null,new ht(a))}}const u0="AsyncQueue";class c0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&it(u0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;it(u0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",h0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:h0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function h0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class hh extends ng{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new c0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c0(t),this._firestoreClient=void 0,await t}}}function qN(s,t){const i=typeof s=="object"?s:D0(),a=typeof s=="string"?s:eh,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=jA("firestore");c&&BN(l,...c)}return l}function DT(s){if(s._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||HN(s),s._firestoreClient}function HN(s){const t=s._freezeSettings(),i=jN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new VN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};class OT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class MT{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ie("string",Zn._jsonSchemaVersion),vectorValues:Ie("object")};const FN=/^__.*__$/;class GN{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,i,this.fieldTransforms):new $l(t,this.data,i,this.fieldTransforms)}}function VT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:s})}}class ig{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return fh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(VT(this.dataSource)&&FN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class KN{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Rh(t)}createContext(t,i,a,l=!1){return new ig({dataSource:t,methodName:i,targetDoc:a,path:Ye.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YN(s){const t=s._freezeSettings(),i=Rh(s._databaseId);return new KN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function QN(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);PT("Data must be an object, but it was:",d,a);const p=LT(a,d);let y,_;if(c.merge)y=new Jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const k=sg(t,w,i);if(!d.contains(k))throw new lt($.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);JN(S,k)||S.push(k)}y=new Jn(S),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new GN(new Ln(p),y,_)}function kT(s,t){if(UT(s=fn(s)))return PT("Unsupported field value:",t,s),LT(s,t);if(s instanceof MT)return(function(a,l){if(!VT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=kT(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return NC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof ze){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const y=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[NE]:{stringValue:xE},[nh]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return zm(p.serializer,S)}))}}}}}})(a,l);if(oT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Om(a)}`)})(s,t)}function LT(s,t){const i={};return AE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(s,((a,l)=>{const c=kT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function UT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Ii||s instanceof Un||s instanceof ze||s instanceof MT||s instanceof Zn||oT(s))}function PT(s,t,i){if(!UT(i)||!TE(i)){const a=Om(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function sg(s,t,i){if((t=fn(t))instanceof OT)return t._internalPath;if(typeof t=="string")return $N(s,t);throw fh("Field path arguments must be of type string or ",s,!1,void 0,i)}const XN=new RegExp("[~\\*/\\[\\]]");function $N(s,t,i){if(t.search(XN)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new OT(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new lt($.INVALID_ARGUMENT,p+s+y)}function JN(s,t){return s.some((i=>i.isEqual(t)))}class ZN{convertValue(t,i="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Ii(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=$s(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Gt(aT(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class zT extends ZN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}const f0="@firebase/firestore",d0="4.10.0";function m0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class jT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(sg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WN extends jT{data(){return super.data()}}function tx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function ex(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends jT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(sg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ie("string",Pr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Gc extends Pr{data(t={}){return super.data(t)}}class Za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:nx(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ie("string",Za._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function kc(s,t,i){s=Xa(s,ze);const a=Xa(s.firestore,hh),l=ex(s.converter,t,i),c=YN(a);return ix(a,[QN(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zi.none())])}function g0(s,...t){s=fn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||m0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof ze)d=Xa(s.firestore,hh),p=Pm(s._key.path),c={next:_=>{t[a]&&t[a](sx(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=Xa(s,Nh);d=Xa(_.firestore,hh),p=_._query;const S=new zT(d);c={next:w=>{t[a]&&t[a](new Za(d,S,_,w))},error:t[a+1],complete:t[a+2]},tx(s._query)}const y=DT(d);return UN(y,p,l,c)}function ix(s,t){const i=DT(s);return PN(i,t)}function sx(s,t,i){const a=i.docs.get(t._key),l=new zT(s);return new Pr(s,l,t._key,a,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){VR(oo),Wa(new jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new hh(new UR(a.getProvider("auth-internal")),new jR(d,a.getProvider("app-check-internal")),sC(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(f0,d0,t),Ys(f0,d0,"esm2020")})();const rx={apiKey:"AIzaSyCowSK9zPnRkjqGzJNGcXvv3fI7oXxW1OY",authDomain:"plataforma-web-educativa-51304.firebaseapp.com",projectId:"plataforma-web-educativa-51304",storageBucket:"plataforma-web-educativa-51304.firebasestorage.app",messagingSenderId:"359156786934",appId:"1:359156786934:web:23b653477f7faad31a6ed7",measurementId:"G-B2K999CDY9"},BT=x0(rx),Vr=OR(BT),za=qN(BT),ja="mi-escuela-digital",ax={"Nivel 1":"Lo imprescindible que debes saber sobre tu Celular, cuidarlo bien y las habilidades para desenvolverte en cualquier circunstancia.","Nivel 2":"Aplicaciones para ampliar su funcionalidad.","Nivel 3":"Aprende a dominar la Nube y aprovechar sus herramientas."},ox={"Nivel 1":v0,"Nivel 2":_A,"Nivel 3":KS},p0={1:{name:"Juan Prez",access:{"Nivel 1":"2023-01-01","Nivel 2":new Date().toISOString().split("T")[0]}},2:{name:". ",access:{"Nivel 2":new Date().toISOString().split("T")[0]}},3:{name:".  ",access:{"Nivel 3":new Date().toISOString().split("T")[0]}}},Ue=[{id:1,title:"Apertura y Bienvenida",type:"video",duration:600,content:"https://www.youtube.com/watch?v=LXb3EKWsInQ",notes:"Msica suave. Verificar audio."},{id:2,title:"Repaso: Clase Anterior",type:"video_practice",duration:300,content:"https://www.w3schools.com/html/movie.mp4",notes:"Video tutorial corto."},{id:3,title:"Prctica de Repaso",type:"timer",duration:300,content:"Repasen lo visto en el video anterior.",notes:"Contador 5 min."},{id:4,title:"Tema 1: Introduccin",type:"video",duration:180,content:"https://www.w3schools.com/html/mov_bbb.mp4",notes:"Explicacin del tema."},{id:5,title:"Prctica Guiada",type:"slide",duration:1320,content:"TAREA: [Instruccin]",notes:"Guiar paso a paso."},{id:6,title:"Prctica Grupal",type:"timer",duration:900,content:"Trabajo en grupos.",notes:"Salas pequeas."},{id:7,title:"Break Activo",type:"video",duration:900,content:"https://www.w3schools.com/html/movie.mp4",notes:"Movilidad."},{id:8,title:"Tema 2: Profundizacin",type:"image",duration:900,content:"https://placehold.co/800x600/indigo/FFFFFF/png?text=Ficha+Tema+2",notes:"Mostrar ficha."},{id:9,title:"Prctica: Tema 2",type:"timer",duration:300,content:"Realizar ajustes.",notes:"Prctica individual."},{id:10,title:"Trivia Final",type:"quiz",duration:15,question:"Pregunta del da?",options:["A","B","C"],correctAnswer:1,notes:"Trivia."}],y0={"Nivel 1":{"Clase 1":Ue,"Clase 2":Ue,"Clase 3":Ue,"Clase 4":Ue,"Clase 5":Ue,"Clase 6":Ue},"Nivel 2":{"Clase 1":Ue,"Clase 2":Ue,"Clase 3":Ue,"Clase 4":Ue,"Clase 5":Ue,"Clase 6":Ue},"Nivel 3":{"Clase 1":Ue,"Clase 2":Ue,"Clase 3":Ue,"Clase 4":Ue,"Clase 5":Ue,"Clase 6":Ue}},lx=s=>{if(!s)return null;const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,i=s.match(t);return i&&i[2].length===11?i[2]:null},qT=s=>{if(!s)return null;const t=/\/file\/d\/([a-zA-Z0-9_-]+)/,i=s.match(t);return i?i[1]:null},ux=({data:s})=>{const[t,i]=Ct.useState(!1),[a,l]=Ct.useState(10);return Ct.useEffect(()=>{let c;return a>0&&!t?c=setInterval(()=>l(d=>d-1),1e3):a===0&&!t&&i(!0),()=>clearInterval(c)},[a,t]),V.jsxs("div",{className:"flex flex-col items-center w-full max-w-4xl mx-auto p-6 bg-white rounded-3xl shadow-xl border-4 border-indigo-100",children:[V.jsx("h3",{className:"text-3xl font-bold text-indigo-900 mb-8 text-center",children:s.question}),V.jsx("div",{className:"w-full space-y-4",children:s.options.map((c,d)=>V.jsxs("div",{className:`p-6 text-2xl rounded-xl border-2 transition-all duration-500 ${t?d===s.correctAnswer?"bg-green-100 border-green-500 text-green-900 font-bold scale-105":"bg-gray-50 border-gray-200 text-gray-400":"bg-white border-indigo-200 text-slate-700"}`,children:[V.jsxs("span",{className:"inline-block w-8 font-bold mr-4",children:[String.fromCharCode(65+d),"."]}),c]},d))}),V.jsx("div",{className:"mt-8 flex items-center gap-4",children:t?V.jsxs("div",{className:"text-2xl font-bold text-green-600 flex items-center gap-2 animate-bounce",children:[V.jsx(BS,{size:32})," Respuesta Correcta!"]}):V.jsx("div",{className:"text-4xl font-bold text-orange-500 bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center border-4 border-orange-200",children:a})})]})},cx=({section:s,userMode:t})=>{const[i,a]=Ct.useState(1),[l,c]=Ct.useState({x:0,y:0}),[d,p]=Ct.useState(!1),[y,_]=Ct.useState({x:0,y:0}),S=Ct.useRef(null),w=Ct.useRef(null),[k,G]=Ct.useState([]);Ct.useEffect(()=>{a(1),c({x:0,y:0}),G([])},[s.content]),Ct.useEffect(()=>{const R=b=>{b.code==="Space"&&(b.preventDefault(),w.current&&(w.current.paused?w.current.play():w.current.pause()))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[]);const J=lx(s.content),W=qT(s.content),tt=R=>{a(b=>{const I=R==="in"?b+.25:b-.25,M=Math.min(Math.max(I,1),3);return M===1&&c({x:0,y:0}),M})},ot=()=>{a(1),c({x:0,y:0})},yt=()=>{document.fullscreenElement?document.exitFullscreen():S.current?.requestFullscreen()},dt=R=>{i>1&&(p(!0),_({x:R.clientX-l.x,y:R.clientY-l.y}))},mt=R=>{t==="teacher"&&G(b=>[{x:R.clientX,y:R.clientY,id:Math.random()},...b.slice(0,30)]),d&&i>1&&(R.preventDefault(),c({x:R.clientX-y.x,y:R.clientY-y.y}))},zt=()=>{p(!1),G([])},xt=()=>p(!1);return V.jsxs("div",{ref:S,className:`w-full h-full flex flex-col items-center justify-center bg-black rounded-xl overflow-hidden shadow-2xl relative group ${i>1?"cursor-move":""}`,onMouseDown:dt,onMouseMove:mt,onMouseUp:xt,onMouseLeave:zt,children:[t==="teacher"&&V.jsx("svg",{className:"fixed inset-0 pointer-events-none z-[9999]",style:{width:"100vw",height:"100vh"},children:k.map((R,b)=>{if(b===k.length-1)return null;const I=k[b+1],M=Math.max(2,16-b*.5);return V.jsx("line",{x1:R.x,y1:R.y,x2:I.x,y2:I.y,stroke:"red",strokeWidth:M,strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:(30-b)/30,filter:"drop-shadow(0 0 2px rgba(220,38,38,0.5))"}},R.id)})}),J?V.jsxs("div",{className:"w-full h-full relative",style:{transform:`translate(${l.x}px, ${l.y}px) scale(${i})`,transformOrigin:"center",transition:d?"none":"transform 0.2s ease-out"},children:[i>1&&V.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"}),V.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${J}?rel=0`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})]}):W?V.jsxs("div",{className:"w-full h-full relative",style:{transform:`translate(${l.x}px, ${l.y}px) scale(${i})`,transformOrigin:"center",transition:d?"none":"transform 0.2s ease-out"},children:[i>1&&V.jsx("div",{className:"absolute inset-0 z-50 bg-transparent"}),V.jsx("iframe",{src:`https://drive.google.com/file/d/${W}/preview`,className:"w-full h-full",allow:"autoplay",title:"Google Drive Video"})]}):V.jsx("video",{ref:w,src:s.content,controls:!d,className:"w-full h-full object-contain",style:{transform:`translate(${l.x}px, ${l.y}px) scale(${i})`,transformOrigin:"center",transition:d?"none":"transform 0.2s ease-out"},draggable:!1},s.content),V.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2 bg-black/60 p-2 rounded-xl backdrop-blur-md opacity-0 group-hover:opacity-100 transition-opacity z-10 border border-white/10",children:[i>1&&V.jsxs("div",{className:"flex items-center text-white/70 text-xs mr-2 animate-pulse font-medium",children:[V.jsx(rA,{size:14,className:"mr-1"})," Arrastra para mover"]}),V.jsx("button",{onClick:()=>tt("out"),className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",title:"Alejar",children:V.jsx(DA,{size:20})}),V.jsxs("button",{onClick:ot,className:"text-white font-mono text-sm font-bold w-12 text-center select-none hover:bg-white/10 rounded px-1",children:[Math.round(i*100),"%"]}),V.jsx("button",{onClick:()=>tt("in"),className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",title:"Acercar",children:V.jsx(NA,{size:20})}),V.jsx("div",{className:"w-px h-6 bg-white/20 mx-1"}),V.jsx("button",{onClick:yt,className:"p-2 text-white hover:bg-white/20 rounded-full transition-colors",title:"Pantalla Completa",children:V.jsx(iA,{size:20})})]})]})},hx=({section:s,userMode:t})=>{if(s.type==="video"||s.type==="video_practice")return V.jsx(cx,{section:s,userMode:t});if(s.type==="slide"||s.type==="timer")return V.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-indigo-50 rounded-xl p-12 text-center border-4 border-dashed border-indigo-200",children:[s.type==="slide"&&V.jsx(bA,{size:64,className:"text-yellow-400 mb-6 fill-yellow-400"}),s.type==="timer"&&V.jsx(FS,{size:64,className:"text-indigo-400 mb-6"}),V.jsx("div",{className:"text-4xl md:text-5xl font-bold text-slate-800 leading-tight whitespace-pre-line",children:s.content}),s.type==="slide"&&V.jsx("div",{className:"mt-8 text-xl text-slate-500 bg-white px-6 py-3 rounded-full shadow-sm",children:"Sigue las instrucciones en pantalla"})]});if(s.type==="image"){const i=qT(s.content);return V.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-white rounded-xl overflow-hidden shadow-lg p-4",children:i?V.jsx("iframe",{src:`https://drive.google.com/file/d/${i}/preview`,className:"w-full h-full rounded-lg",title:"Material de clase",allow:"autoplay"}):V.jsx("img",{src:s.content,alt:"Material",className:"max-h-full max-w-full object-contain rounded-lg"})})}return s.type==="quiz"?V.jsx(ux,{data:s}):V.jsx("div",{children:"Contenido desconocido"})},fx=({classData:s,levelTitle:t,classTitle:i,onBack:a,onUpdateClassData:l,userMode:c})=>{const[d,p]=Ct.useState(0),[y,_]=Ct.useState(s[0]?.duration||0),[S,w]=Ct.useState(!1),[k,G]=Ct.useState(!1),[J,W]=Ct.useState(JSON.stringify(s,null,2)),tt=s[d];Ct.useEffect(()=>{let mt;return S&&y>0?mt=setInterval(()=>_(zt=>zt-1),1e3):y===0&&w(!1),()=>clearInterval(mt)},[S,y]),Ct.useEffect(()=>{s[d]&&(_(s[d].duration),w(!1))},[d,s]);const ot=mt=>{mt>=0&&mt<s.length&&p(mt)},yt=()=>{try{const mt=JSON.parse(J);l(mt),p(0),G(!1)}catch{alert("Error en el formato JSON. Revisa las comas.")}},dt=!["video","video_practice","timer","quiz"].includes(tt.type);return V.jsxs("div",{className:"flex flex-col h-screen bg-slate-100",children:[V.jsxs("header",{className:"bg-white border-b border-slate-200 h-16 flex items-center justify-between px-6 shadow-sm z-10",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsxs("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500 flex items-center gap-1 text-sm font-medium",children:[V.jsx(z_,{size:16})," Volver"]}),V.jsx("div",{className:"h-6 w-px bg-slate-300 mx-2"}),V.jsxs("h1",{className:"text-xl font-bold text-slate-700",children:[V.jsxs("span",{className:"text-slate-400 font-normal",children:[t," / ",i,":"]})," ",V.jsx("span",{className:"text-indigo-600",children:tt.title})]})]}),V.jsxs("div",{className:"flex items-center gap-4",children:[c==="teacher"&&V.jsx("button",{onClick:()=>G(!0),className:"p-2 hover:bg-slate-100 rounded-full text-slate-600",title:"Cargar Material",children:V.jsx(P_,{size:20})}),c==="student"&&V.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full border border-green-200",children:"Modo Alumno"})]})]}),V.jsxs("main",{className:"flex-1 flex flex-col md:flex-row overflow-hidden",children:[V.jsx("aside",{className:"w-full md:w-64 bg-white border-r border-slate-200 overflow-y-auto hidden md:block",children:V.jsxs("div",{className:"p-4",children:[V.jsx("h2",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Temario"}),V.jsx("div",{className:"space-y-2",children:s.map((mt,zt)=>V.jsxs("button",{onClick:()=>ot(zt),className:`w-full text-left p-3 rounded-lg text-sm transition-all ${zt===d?"bg-indigo-50 text-indigo-700 border border-indigo-200 font-semibold":"text-slate-600 hover:bg-slate-50"}`,children:[V.jsxs("div",{className:"flex justify-between items-center mb-1",children:[V.jsxs("span",{children:[zt+1,". ",mt.type==="video"?"":mt.type==="quiz"?"":""]}),V.jsxs("span",{className:"text-xs text-slate-400",children:[Math.floor(mt.duration/60),"m"]})]}),V.jsx("div",{className:"truncate",children:mt.title})]},mt.id))})]})}),V.jsxs("section",{className:"flex-1 flex flex-col bg-slate-100 relative",children:[V.jsx("div",{className:"flex-1 p-4 md:p-8 flex items-center justify-center",children:V.jsx("div",{className:"w-full h-full max-w-6xl max-h-[80vh] flex flex-col",children:V.jsxs("div",{className:"flex-1 bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200 mb-4 relative",children:[V.jsx(hx,{section:tt,userMode:c})," "]})})}),V.jsxs("div",{className:"h-24 bg-white border-t border-slate-200 flex items-center justify-between px-8",children:[V.jsx("div",{className:"flex items-center gap-6",children:dt&&V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"text-right",children:V.jsxs("div",{className:`text-3xl font-mono font-bold ${y<60?"text-red-500":"text-slate-700"}`,children:[Math.floor(y/60).toString().padStart(2,"0"),":",(y%60).toString().padStart(2,"0")]})}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("button",{onClick:()=>w(!S),className:`p-4 rounded-full shadow-lg transform active:scale-95 ${S?"bg-yellow-100 text-yellow-600":"bg-indigo-600 text-white"}`,children:S?V.jsx(oA,{size:24,fill:"currentColor"}):V.jsx(uA,{size:24,fill:"currentColor"})}),V.jsx("button",{onClick:()=>{w(!1),_(tt.duration)},className:"p-4 rounded-full bg-slate-100 text-slate-500 hover:bg-slate-200",children:V.jsx(hA,{size:24})})]})]})}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsxs("button",{onClick:()=>ot(d-1),disabled:d===0,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-bold text-slate-600 hover:bg-slate-100 disabled:opacity-50",children:[V.jsx(z_,{size:20})," Anterior"]}),V.jsxs("button",{onClick:()=>ot(d+1),disabled:d===s.length-1,className:"flex items-center gap-2 px-8 py-3 rounded-xl font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg disabled:opacity-50",children:["Siguiente ",V.jsx(TA,{size:20})]})]})]})]})]}),k&&c==="teacher"&&V.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:V.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-2xl shadow-2xl overflow-hidden flex flex-col h-[90vh]",children:[V.jsxs("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:[V.jsxs("h3",{className:"font-bold text-lg text-slate-700 flex items-center gap-2",children:[V.jsx(P_,{size:18})," Cargar Material: ",t," - ",i]}),V.jsx("button",{onClick:()=>G(!1),children:V.jsx(Yd,{size:24,className:"text-slate-400 hover:text-red-500"})})]}),V.jsxs("div",{className:"p-6 flex-1 overflow-hidden flex flex-col",children:[V.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Pega aqu el JSON de tu clase preparada:"}),V.jsx("textarea",{value:J,onChange:mt=>W(mt.target.value),className:"flex-1 w-full font-mono text-xs p-4 bg-slate-900 text-green-400 rounded-xl outline-none resize-none",spellCheck:"false"})]}),V.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-end gap-3",children:[V.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-200 rounded-lg",children:"Cancelar"}),V.jsxs("button",{onClick:yt,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold flex items-center gap-2",children:[V.jsx(dA,{size:18})," Guardar"]})]})]})})]})};function dx(){const[s,t]=Ct.useState(null),[i,a]=Ct.useState(null),[l,c]=Ct.useState(null),[d,p]=Ct.useState(null),[y,_]=Ct.useState(null),[S,w]=Ct.useState(!0),[k,G]=Ct.useState(""),[J,W]=Ct.useState(""),[tt,ot]=Ct.useState(!1),[yt,dt]=Ct.useState(""),[mt,zt]=Ct.useState("");Ct.useEffect(()=>{const C=async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await g2(Vr,__initial_auth_token):await lv(Vr)},x=E2(Vr,A=>{A?p(A):lv(Vr).catch(Rt=>console.error("Error anon login:",Rt))});return Vr.currentUser||C(),()=>x()},[]),Ct.useEffect(()=>{if(!d)return;const C=Pa(za,"artifacts",ja,"public","data","course_content","main"),x=g0(C,A=>{A.exists()?t(A.data()):t(y0),w(!1)},A=>{console.error("Error fetching course data:",A),t(y0),w(!1)});return()=>x()},[d]),Ct.useEffect(()=>{if(!d)return;const C=Pa(za,"artifacts",ja,"users",d.uid,"data","profile"),x=g0(C,A=>{A.exists()?_(A.data()):_(null)},A=>console.error("Error profile:",A));return()=>x()},[d]);const xt=async()=>{try{W("");const C=await y2(Vr,yt,mt),x=Pa(za,"artifacts",ja,"users",C.user.uid,"data","profile");await kc(x,{role:"teacher",lastLogin:new Date().toISOString()},{merge:!0})}catch(C){console.error(C),W("Error de autenticacin: Verifique email y contrasea.")}},R=async()=>{if(!d)return;const C=k.trim();if(!p0.hasOwnProperty(C)){W("Este DNI no tiene una suscripcin activa.");return}const x=Pa(za,"artifacts",ja,"users",d.uid,"data","profile"),A=p0[C],Rt={role:"student",dni:C,name:A.name,access:A.access,lastLogin:new Date().toISOString()};await kc(x,Rt)},b=async()=>{if(y?.role==="teacher")await T2(Vr);else{if(!d)return;const C=Pa(za,"artifacts",ja,"users",d.uid,"data","profile");await kc(C,{role:null,access:null,dni:null,name:null})}G(""),dt(""),zt(""),ot(!1),W("")},I=async C=>{if(!s)return;const x={...s,[i]:{...s[i],[l]:C}};t(x);const A=Pa(za,"artifacts",ja,"public","data","course_content","main");await kc(A,x)},M=C=>{if(!y?.access||!y.access[C])return 0;const x=y.access[C],A=new Date(x),ce=new Date-A;if(ce<0)return 0;const H=Math.ceil(ce/(1e3*60*60*24));return Math.floor(H/7)+1};if(!d||S)return V.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:[V.jsx(ZS,{className:"animate-spin mr-2"})," Cargando sistema..."]});if(!y||!y.role)return V.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-6 relative overflow-hidden",children:[V.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-500 via-slate-900 to-black"}),V.jsxs("div",{className:"bg-white/10 backdrop-blur-lg p-8 md:p-12 rounded-3xl shadow-2xl border border-white/10 w-full max-w-lg relative z-10 text-center",children:[V.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Clase de Celulares"}),V.jsx("p",{className:"text-indigo-200 mb-10 text-lg",children:"Plataforma de Aprendizaje Digital"}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 shadow-inner",children:[V.jsxs("label",{className:"block text-indigo-200 text-sm font-bold mb-3 text-left flex items-center gap-2",children:[V.jsx(L_,{size:16})," Ingreso Alumnos"]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("input",{type:"text",value:k,onChange:C=>{G(C.target.value.replace(/\D/g,"")),W("")},placeholder:"Ingresa tu DNI (solo nmeros)",className:"flex-1 p-3 rounded-xl bg-slate-800 border border-slate-600 text-white placeholder-slate-500 focus:ring-2 focus:ring-indigo-500 outline-none transition-all"}),V.jsx("button",{onClick:R,className:"bg-indigo-600 text-white font-bold p-3 rounded-xl hover:bg-indigo-700 transition-all flex items-center justify-center shadow-lg shadow-indigo-900/50",children:V.jsx(eA,{size:24})})]}),J&&V.jsxs("p",{className:"text-red-400 text-xs mt-3 text-left font-medium flex items-center gap-1 animate-pulse",children:[V.jsx(Yd,{size:12})," ",J]}),V.jsx("p",{className:"text-slate-500 text-xs text-left mt-3",children:"* Ingresa el DNI con el que te registraste al pagar."})]}),V.jsxs("div",{className:"relative flex py-2 items-center",children:[V.jsx("div",{className:"flex-grow border-t border-white/10"}),V.jsx("span",{className:"flex-shrink-0 mx-4 text-white/20 text-xs uppercase tracking-widest",children:"Administracin"}),V.jsx("div",{className:"flex-grow border-t border-white/10"})]}),tt?V.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-indigo-500/30 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[V.jsxs("p",{className:"text-indigo-300 text-xs font-bold mb-2 flex items-center gap-1",children:[V.jsx(pA,{size:12})," Acceso Seguro"]}),V.jsxs("div",{className:"flex flex-col gap-2",children:[V.jsx("input",{type:"email",value:yt,onChange:C=>dt(C.target.value),placeholder:"Email de Profesor",className:"p-2 rounded-lg bg-slate-900 border border-slate-600 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),V.jsxs("div",{className:"flex gap-2",children:[V.jsx("input",{type:"password",value:mt,onChange:C=>zt(C.target.value),placeholder:"Contrasea",className:"flex-1 p-2 rounded-lg bg-slate-900 border border-slate-600 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),V.jsx("button",{onClick:xt,className:"bg-indigo-600 text-white p-2 rounded-lg font-bold hover:bg-indigo-500",children:"Entrar"}),V.jsx("button",{onClick:()=>ot(!1),className:"text-slate-400 p-2 hover:text-white",children:V.jsx(Yd,{size:20})})]})]})]}):V.jsxs("button",{onClick:()=>{ot(!0),W("")},className:"w-full bg-transparent text-slate-400 text-sm font-medium p-3 rounded-xl hover:bg-white/5 hover:text-white transition-all flex items-center justify-center gap-2 border border-dashed border-slate-700",children:[V.jsx($S,{size:16})," Soy el Profesor"]})]})]})]});if(!i){const C=y.name?y.name.split(" ")[0]:"";return V.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 relative",children:[V.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-4",children:[V.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white rounded-full border shadow-sm text-sm text-slate-500",children:[V.jsx(L_,{size:14})," ",y.role==="teacher"?"Modo Profesor":y.name?`Hola, ${y.name}`:`Alumno DNI: ${y.dni}`]}),V.jsx("button",{onClick:b,className:"text-xs text-red-400 hover:text-red-600 hover:underline",children:"Cerrar Sesin / Salir"})]}),V.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[V.jsx("div",{className:"p-4 bg-indigo-600 rounded-2xl shadow-lg",children:V.jsx(v0,{size:48,className:"text-white"})}),V.jsx("h1",{className:"text-5xl font-extrabold text-slate-800 tracking-tight",children:"Clase de Celulares"})]}),V.jsx("div",{className:"text-slate-500 mb-12 text-xl font-medium text-center",children:y.role==="teacher"?"Panel de Control Docente":V.jsxs(V.Fragment,{children:["Qu bueno verte por aqu ",C,"!",V.jsx("span",{className:"block mt-2 text-indigo-600",children:"Hoy es un buen da para aprender!"})]})}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-5xl",children:s&&Object.keys(s).sort((x,A)=>x.localeCompare(A,void 0,{numeric:!0})).map(x=>{const A=y.role==="student"&&(!y.access||!y.access[x]),Rt=ox[x]||RA;return V.jsxs("button",{onClick:()=>!A&&a(x),disabled:A,className:`group relative p-8 rounded-3xl shadow-xl border transition-all duration-300 transform flex flex-col items-center text-center gap-4
                  ${A?"bg-slate-100 border-slate-200 opacity-60 cursor-not-allowed grayscale":"bg-white hover:bg-indigo-600 hover:text-white border-slate-100 hover:-translate-y-2 cursor-pointer"}`,children:[V.jsx("div",{className:`p-6 rounded-full transition-colors ${A?"bg-slate-200":"bg-indigo-100 group-hover:bg-white/20"}`,children:A?V.jsx(U_,{size:48,className:"text-slate-400"}):V.jsx(Rt,{size:48,className:"text-indigo-600 group-hover:text-white"})}),V.jsx("h2",{className:"text-2xl font-bold",children:x}),V.jsx("p",{className:`text-xs px-2 min-h-[40px] ${A?"text-slate-400":"text-slate-500 group-hover:text-indigo-100"}`,children:ax[x]||"Contenido del curso."}),V.jsx("p",{className:`text-xs font-bold uppercase tracking-widest ${A?"text-slate-400":"text-indigo-400 group-hover:text-white"}`,children:A?"No adquirido":"6 Clases Disponibles"})]},x)})})]})}if(i&&!l){const C=y.role==="teacher"?999:M(i);return V.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col p-6 relative",children:[V.jsxs("button",{onClick:()=>a(null),className:"self-start mb-8 flex items-center gap-2 text-slate-500 hover:text-indigo-600 font-medium px-4 py-2 rounded-lg hover:bg-white transition-colors",children:[V.jsx(QS,{size:20})," Volver al Inicio"]}),V.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[V.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[V.jsx("h2",{className:"text-3xl font-bold text-indigo-900",children:i}),V.jsx("div",{className:"h-px bg-slate-300 flex-1"}),V.jsx("span",{className:"text-slate-400 font-medium",children:"Selecciona una clase"})]}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s&&Object.keys(s[i]).sort((x,A)=>x.localeCompare(A,void 0,{numeric:!0})).map((x,A)=>{const Rt=A>=C;return V.jsxs("button",{onClick:()=>!Rt&&c(x),disabled:Rt,className:`relative p-6 rounded-2xl border transition-all text-left group ${Rt?"bg-slate-100 border-slate-200 opacity-70 cursor-not-allowed grayscale":"bg-white shadow-sm border-slate-200 hover:border-indigo-500 hover:shadow-md cursor-pointer"}`,children:[V.jsxs("div",{className:"flex justify-between items-start mb-4",children:[V.jsx("div",{className:`p-3 rounded-xl transition-colors ${Rt?"bg-slate-200 text-slate-400":"bg-orange-100 text-orange-600 group-hover:bg-indigo-100 group-hover:text-indigo-600"}`,children:Rt?V.jsx(U_,{size:24}):V.jsx(kS,{size:24})}),!Rt&&V.jsx(zS,{className:"text-slate-300 group-hover:text-indigo-500 transition-colors"})]}),V.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:x}),V.jsxs("p",{className:"text-sm text-slate-500",children:[s[i][x].length," actividades cargadas"]}),Rt&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 backdrop-blur-[1px] rounded-2xl",children:V.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-1 rounded-full flex items-center gap-1",children:[V.jsx(US,{size:12})," Desbloquea semana ",A+1]})})]},x)})})]})]})}return V.jsx(V.Fragment,{children:V.jsx(fx,{classData:s[i][l],levelTitle:i,classTitle:l,onBack:()=>c(null),onUpdateClassData:I,userMode:y.role})})}IS.createRoot(document.getElementById("root")).render(V.jsx(Ct.StrictMode,{children:V.jsx(dx,{})}));
